import{K as E,x as K,A as T,C as I,a1 as M,O as j,a as i,g as B}from"./index-Bdlm1ZtJ.js";import{k as N,v as V}from"./dom-jY1HDJzH.js";function D(t,r=250){let a=!1,e;return function(){return a===!1&&(a=!0,setTimeout(()=>{a=!1},r),e=t.apply(this,arguments)),e}}function L(t,r,a,e){a.modifiers.stop===!0&&M(t);const n=a.modifiers.color;let c=a.modifiers.center;c=c===!0||e===!0;const u=document.createElement("span"),o=document.createElement("span"),q=j(t),{left:f,top:p,width:h,height:g}=r.getBoundingClientRect(),d=Math.sqrt(h*h+g*g),$=d/2,y=`${(h-d)/2}px`,A=c?y:`${q.left-f-$}px`,C=`${(g-d)/2}px`,_=c?C:`${q.top-p-$}px`;o.className="q-ripple__inner",N(o,{height:`${d}px`,width:`${d}px`,transform:`translate3d(${A},${_},0) scale3d(.2,.2,1)`,opacity:0}),u.className=`q-ripple${n?" text-"+n:""}`,u.setAttribute("dir","ltr"),u.appendChild(o),r.appendChild(u);const x=()=>{u.remove(),clearTimeout(R)};a.abort.push(x);let R=setTimeout(()=>{o.classList.add("q-ripple__inner--enter"),o.style.transform=`translate3d(${y},${C},0) scale3d(1,1,1)`,o.style.opacity=.2,R=setTimeout(()=>{o.classList.remove("q-ripple__inner--enter"),o.classList.add("q-ripple__inner--leave"),o.style.opacity=0,R=setTimeout(()=>{u.remove(),a.abort.splice(a.abort.indexOf(x),1)},275)},250)},50)}function O(t,{modifiers:r,value:a,arg:e}){const n=Object.assign({},t.cfg.ripple,r,a);t.modifiers={early:n.early===!0,stop:n.stop===!0,center:n.center===!0,color:n.color||e,keyCodes:[].concat(n.keyCodes||13)}}const G=E({name:"ripple",beforeMount(t,r){const a=r.instance.$.appContext.config.globalProperties.$q.config||{};if(a.ripple===!1)return;const e={cfg:a,enabled:r.value!==!1,modifiers:{},abort:[],start(n){e.enabled===!0&&n.qSkipRipple!==!0&&n.type===(e.modifiers.early===!0?"pointerdown":"click")&&L(n,t,e,n.qKeyEvent===!0)},keystart:D(n=>{e.enabled===!0&&n.qSkipRipple!==!0&&K(n,e.modifiers.keyCodes)===!0&&n.type===`key${e.modifiers.early===!0?"down":"up"}`&&L(n,t,e,!0)},300)};O(e,r),t.__qripple=e,T(e,"main",[[t,"pointerdown","start","passive"],[t,"click","start","passive"],[t,"keydown","keystart","passive"],[t,"keyup","keystart","passive"]])},updated(t,r){if(r.oldValue!==r.value){const a=t.__qripple;a!==void 0&&(a.enabled=r.value!==!1,a.enabled===!0&&Object(r.value)===r.value&&O(a,r))}},beforeUnmount(t){const r=t.__qripple;r!==void 0&&(r.abort.forEach(a=>{a()}),I(r,"main"),delete t._qripple)}});function P(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}function S(t,r){return(t.aliasOf||t)===(r.aliasOf||r)}function H(t,r){for(const a in r){const e=r[a],n=t[a];if(typeof e=="string"){if(e!==n)return!1}else if(Array.isArray(n)===!1||n.length!==e.length||e.some((c,u)=>c!==n[u]))return!1}return!0}function w(t,r){return Array.isArray(r)===!0?t.length===r.length&&t.every((a,e)=>a===r[e]):t.length===1&&t[0]===r}function U(t,r){return Array.isArray(t)===!0?w(t,r):Array.isArray(r)===!0?w(r,t):t===r}function X(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const a in t)if(U(t[a],r[a])===!1)return!1;return!0}const Y={to:[String,Object],replace:Boolean,href:String,target:String,disable:Boolean},J={...Y,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"}};function Q({fallbackTag:t,useDisableForRouterLinkProps:r=!0}={}){const a=B(),{props:e,proxy:n,emit:c}=a,u=V(a),o=i(()=>e.disable!==!0&&e.href!==void 0),q=r===!0?i(()=>u===!0&&e.disable!==!0&&o.value!==!0&&e.to!==void 0&&e.to!==null&&e.to!==""):i(()=>u===!0&&o.value!==!0&&e.to!==void 0&&e.to!==null&&e.to!==""),f=i(()=>q.value===!0?_(e.to):null),p=i(()=>f.value!==null),h=i(()=>o.value===!0||p.value===!0),g=i(()=>e.type==="a"||h.value===!0?"a":e.tag||t||"div"),d=i(()=>o.value===!0?{href:e.href,target:e.target}:p.value===!0?{href:f.value.href,target:e.target}:{}),$=i(()=>{if(p.value===!1)return-1;const{matched:s}=f.value,{length:l}=s,v=s[l-1];if(v===void 0)return-1;const m=n.$route.matched;if(m.length===0)return-1;const k=m.findIndex(S.bind(null,v));if(k!==-1)return k;const b=P(s[l-2]);return l>1&&P(v)===b&&m[m.length-1].path!==b?m.findIndex(S.bind(null,s[l-2])):k}),y=i(()=>p.value===!0&&$.value!==-1&&H(n.$route.params,f.value.params)),A=i(()=>y.value===!0&&$.value===n.$route.matched.length-1&&X(n.$route.params,f.value.params)),C=i(()=>p.value===!0?A.value===!0?` ${e.exactActiveClass} ${e.activeClass}`:e.exact===!0?"":y.value===!0?` ${e.activeClass}`:"":"");function _(s){try{return n.$router.resolve(s)}catch{}return null}function x(s,{returnRouterError:l,to:v=e.to,replace:m=e.replace}={}){if(e.disable===!0)return s.preventDefault(),Promise.resolve(!1);if(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey||s.button!==void 0&&s.button!==0||e.target==="_blank")return Promise.resolve(!1);s.preventDefault();const k=n.$router[m===!0?"replace":"push"](v);return l===!0?k:k.then(()=>{}).catch(()=>{})}function R(s){if(p.value===!0){const l=v=>x(s,v);c("click",s,l),s.defaultPrevented!==!0&&l()}else c("click",s)}return{hasRouterLink:p,hasHrefLink:o,hasLink:h,linkTag:g,resolvedLink:f,linkIsActive:y,linkIsExactActive:A,linkClass:C,linkAttrs:d,getLink:_,navigateToRouterLink:x,navigateOnClick:R}}export{G as R,Q as a,Y as b,J as u};
