import{r as V,x as Ea,y as pe,z as oe,A as me,w as W,B as ce,o as ne,g as J,C as Ce,D as nt,E as St,c as se,k as Ba,F as vt,h as C,T as Fa,a as s,G as ft,H as xe,I as mt,J as Se,K as Ia,L as Oa,M as La,N as Ke,O as ot,P as Da,Q as Ha,R as _t,S as ta,U as Ue,V as Mt,W as aa,X as la,i as ht,e as Ye,l as Na,f as na,Y as ja,Z as Wa,$ as Qa,a0 as Ka,a1 as qt,a2 as Ua,m as oa,a3 as ra,a4 as Ya,_ as ia,q as ae,s as we,t as le,u as X,a5 as Pe,a6 as _e,a7 as ge,v as re,a8 as fe,a9 as Ze,aa as Xe,ab as Tt}from"./index-Bdlm1ZtJ.js";import{c as Ee,g as zt,s as Pt,u as Le,a as De,b as sa,T as rt,d as Za,e as Xa,f as Ga,h as Ja,i as it,Q as el}from"./recipe-store-CtuVgrWu.js";import{v as ua,c as tl,a as he,g as ca,d as da,b as gt,Q as Be}from"./dom-jY1HDJzH.js";import{u as va,Q as st,a as al,b as ll,c as Rt}from"./QScrollObserver-BZDrValU.js";import{g as nl,s as ol,a as rl,b as Ge,c as Vt}from"./scroll-GPeo8u1N.js";import{Q as ue}from"./QBtn-Zp0MCxB_.js";import{u as il,a as sl,Q as ul}from"./QSpinner-CiPhgIn4.js";import{u as cl}from"./vue-i18n.runtime-ZHCIjERu.js";import"./axios-B_vaVXfi.js";import"./use-router-link-PER3gbyu.js";const dl={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean};function vl({showing:e,avoidEmit:t,configureAnchorEl:r}){const{props:l,proxy:a,emit:i}=J(),o=V(null);let n=null;function v(m){return o.value===null?!1:m===void 0||m.touches===void 0||m.touches.length<=1}const f={};r===void 0&&(Object.assign(f,{hide(m){a.hide(m)},toggle(m){a.toggle(m),m.qAnchorHandled=!0},toggleKey(m){Ea(m,13)===!0&&f.toggle(m)},contextClick(m){a.hide(m),pe(m),oe(()=>{a.show(m),m.qAnchorHandled=!0})},prevent:pe,mobileTouch(m){if(f.mobileCleanup(m),v(m)!==!0)return;a.hide(m),o.value.classList.add("non-selectable");const S=m.target;me(f,"anchor",[[S,"touchmove","mobileCleanup","passive"],[S,"touchend","mobileCleanup","passive"],[S,"touchcancel","mobileCleanup","passive"],[o.value,"contextmenu","prevent","notPassive"]]),n=setTimeout(()=>{n=null,a.show(m),m.qAnchorHandled=!0},300)},mobileCleanup(m){o.value.classList.remove("non-selectable"),n!==null&&(clearTimeout(n),n=null),e.value===!0&&m!==void 0&&Ee()}}),r=function(m=l.contextMenu){if(l.noParentEvent===!0||o.value===null)return;let S;m===!0?a.$q.platform.is.mobile===!0?S=[[o.value,"touchstart","mobileTouch","passive"]]:S=[[o.value,"mousedown","hide","passive"],[o.value,"contextmenu","contextClick","notPassive"]]:S=[[o.value,"click","toggle","passive"],[o.value,"keyup","toggleKey","passive"]],me(f,"anchor",S)});function c(){Ce(f,"anchor")}function y(m){for(o.value=m;o.value.classList.contains("q-anchor--skip");)o.value=o.value.parentNode;r()}function M(){if(l.target===!1||l.target===""||a.$el.parentNode===null)o.value=null;else if(l.target===!0)y(a.$el.parentNode);else{let m=l.target;if(typeof l.target=="string")try{m=document.querySelector(l.target)}catch{m=void 0}m!=null?(o.value=m.$el||m,r()):(o.value=null,console.error(`Anchor: target "${l.target}" not found`))}}return W(()=>l.contextMenu,m=>{o.value!==null&&(c(),r(m))}),W(()=>l.target,()=>{o.value!==null&&c(),M()}),W(()=>l.noParentEvent,m=>{o.value!==null&&(m===!0?c():r())}),ce(()=>{M(),t!==!0&&l.modelValue===!0&&o.value===null&&i("update:modelValue",!1)}),ne(()=>{n!==null&&clearTimeout(n),c()}),{anchorEl:o,canShow:v,anchorEvents:f}}function fl(e,t){const r=V(null);let l;function a(n,v){const f=`${v!==void 0?"add":"remove"}EventListener`,c=v!==void 0?v:l;n!==window&&n[f]("scroll",c,nt.passive),window[f]("scroll",c,nt.passive),l=v}function i(){r.value!==null&&(a(r.value),r.value=null)}const o=W(()=>e.noParentEvent,()=>{r.value!==null&&(i(),t())});return ne(o),{localScrollTarget:r,unconfigureScrollTarget:i,changeScrollEvent:a}}const ml={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},hl=["beforeShow","show","beforeHide","hide"];function gl({showing:e,canShow:t,hideOnRouteChange:r,handleShow:l,handleHide:a,processOnMount:i}){const o=J(),{props:n,emit:v,proxy:f}=o;let c;function y(T){e.value===!0?S(T):M(T)}function M(T){if(n.disable===!0||T!==void 0&&T.qAnchorHandled===!0||t!==void 0&&t(T)!==!0)return;const A=n["onUpdate:modelValue"]!==void 0;A===!0&&(v("update:modelValue",!0),c=T,oe(()=>{c===T&&(c=void 0)})),(n.modelValue===null||A===!1)&&m(T)}function m(T){e.value!==!0&&(e.value=!0,v("beforeShow",T),l!==void 0?l(T):v("show",T))}function S(T){if(n.disable===!0)return;const A=n["onUpdate:modelValue"]!==void 0;A===!0&&(v("update:modelValue",!1),c=T,oe(()=>{c===T&&(c=void 0)})),(n.modelValue===null||A===!1)&&O(T)}function O(T){e.value!==!1&&(e.value=!1,v("beforeHide",T),a!==void 0?a(T):v("hide",T))}function B(T){n.disable===!0&&T===!0?n["onUpdate:modelValue"]!==void 0&&v("update:modelValue",!1):T===!0!==e.value&&(T===!0?m:O)(c)}W(()=>n.modelValue,B),r!==void 0&&ua(o)===!0&&W(()=>f.$route.fullPath,()=>{r.value===!0&&e.value===!0&&S()}),i===!0&&ce(()=>{B(n.modelValue)});const N={show:M,hide:S,toggle:y};return Object.assign(f,N),N}let be=[],ze=[];function fa(e){ze=ze.filter(t=>t!==e)}function pl(e){fa(e),ze.push(e)}function At(e){fa(e),ze.length===0&&be.length!==0&&(be[be.length-1](),be=[])}function ma(e){ze.length===0?e():be.push(e)}function bl(e){be=be.filter(t=>t!==e)}let yl=1,kl=document.body;function xl(e,t){const r=document.createElement("div");if(r.id=`q-portal--${t}--${yl++}`,St.globalNodes!==void 0){const l=St.globalNodes.class;l!==void 0&&(r.className=l)}return kl.appendChild(r),r}function wl(e){e.remove()}const Te=[],Cl=se({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function Sl(e,t,r,l){const a=V(!1),i=V(!1);let o=null;const n={};function v(c){if(c===!0){At(n),i.value=!0;return}i.value=!1,a.value===!1&&(o===null&&(o=xl(!1,l)),a.value=!0,Te.push(e.proxy),pl(n))}function f(c){if(i.value=!1,c!==!0)return;At(n),a.value=!1;const y=Te.indexOf(e.proxy);y!==-1&&Te.splice(y,1),o!==null&&(wl(o),o=null)}return Ba(()=>{f(!0)}),e.proxy.__qPortal=!0,vt(e.proxy,"contentEl",()=>t.value),{showPortal:v,hidePortal:f,portalIsActive:a,portalIsAccessible:i,renderPortal:()=>a.value===!0?[C(Fa,{to:o},C(Cl,r))]:void 0}}const Je={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function _l(e,t=()=>{},r=()=>{}){return{transitionProps:s(()=>{const l=`q-transition--${e.transitionShow||t()}`,a=`q-transition--${e.transitionHide||r()}`;return{appear:!0,enterFromClass:`${l}-enter-from`,enterActiveClass:`${l}-enter-active`,enterToClass:`${l}-enter-to`,leaveFromClass:`${a}-leave-from`,leaveActiveClass:`${a}-leave-active`,leaveToClass:`${a}-leave-to`}}),transitionStyle:s(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function Ml(){let e;const t=J();function r(){e=void 0}return ft(r),ne(r),{removeTick:r,registerTick(l){e=l,oe(()=>{e===l&&(tl(t)===!1&&e(),e=void 0)})}}}const{notPassiveCapture:Fe}=nt,ye=[];function Ie(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let r=Te.length-1;for(;r>=0;){const l=Te[r].$;if(l.type.name==="QTooltip"){r--;continue}if(l.type.name!=="QDialog")break;if(l.props.seamless!==!0)return;r--}for(let l=ye.length-1;l>=0;l--){const a=ye[l];if((a.anchorEl.value===null||a.anchorEl.value.contains(t)===!1)&&(t===document.body||a.innerRef.value!==null&&a.innerRef.value.contains(t)===!1))e.qClickOutside=!0,a.onClickOutside(e);else return}}function ql(e){ye.push(e),ye.length===1&&(document.addEventListener("mousedown",Ie,Fe),document.addEventListener("touchstart",Ie,Fe))}function $t(e){const t=ye.findIndex(r=>r===e);t!==-1&&(ye.splice(t,1),ye.length===0&&(document.removeEventListener("mousedown",Ie,Fe),document.removeEventListener("touchstart",Ie,Fe)))}let Et,Bt;function Ft(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Tl(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const ut={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{ut[`${e}#ltr`]=e,ut[`${e}#rtl`]=e});function It(e,t){const r=e.split(" ");return{vertical:r[0],horizontal:ut[`${r[1]}#${t===!0?"rtl":"ltr"}`]}}function zl(e,t){let{top:r,left:l,right:a,bottom:i,width:o,height:n}=e.getBoundingClientRect();return t!==void 0&&(r-=t[1],l-=t[0],i+=t[1],a+=t[0],o+=t[0],n+=t[1]),{top:r,bottom:i,height:n,left:l,right:a,width:o,middle:l+(a-l)/2,center:r+(i-r)/2}}function Pl(e,t,r){let{top:l,left:a}=e.getBoundingClientRect();return l+=t.top,a+=t.left,r!==void 0&&(l+=r[1],a+=r[0]),{top:l,bottom:l+1,height:1,left:a,right:a+1,width:1,middle:a,center:l}}function Rl(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function Ot(e,t,r,l){return{top:e[r.vertical]-t[l.vertical],left:e[r.horizontal]-t[l.horizontal]}}function ha(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{ha(e,t+1)},10);return}const{targetEl:r,offset:l,anchorEl:a,anchorOrigin:i,selfOrigin:o,absoluteOffset:n,fit:v,cover:f,maxHeight:c,maxWidth:y}=e;if(xe.is.ios===!0&&window.visualViewport!==void 0){const P=document.body.style,{offsetLeft:$,offsetTop:R}=window.visualViewport;$!==Et&&(P.setProperty("--q-pe-left",$+"px"),Et=$),R!==Bt&&(P.setProperty("--q-pe-top",R+"px"),Bt=R)}const{scrollLeft:M,scrollTop:m}=r,S=n===void 0?zl(a,f===!0?[0,0]:l):Pl(a,n,l);Object.assign(r.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:y,maxHeight:c,visibility:"visible"});const{offsetWidth:O,offsetHeight:B}=r,{elWidth:N,elHeight:T}=v===!0||f===!0?{elWidth:Math.max(S.width,O),elHeight:f===!0?Math.max(S.height,B):B}:{elWidth:O,elHeight:B};let A={maxWidth:y,maxHeight:c};(v===!0||f===!0)&&(A.minWidth=S.width+"px",f===!0&&(A.minHeight=S.height+"px")),Object.assign(r.style,A);const H=Rl(N,T);let w=Ot(S,H,i,o);if(n===void 0||l===void 0)et(w,S,H,i,o);else{const{top:P,left:$}=w;et(w,S,H,i,o);let R=!1;if(w.top!==P){R=!0;const g=2*l[1];S.center=S.top-=g,S.bottom-=g+2}if(w.left!==$){R=!0;const g=2*l[0];S.middle=S.left-=g,S.right-=g+2}R===!0&&(w=Ot(S,H,i,o),et(w,S,H,i,o))}A={top:w.top+"px",left:w.left+"px"},w.maxHeight!==void 0&&(A.maxHeight=w.maxHeight+"px",S.height>w.maxHeight&&(A.minHeight=A.maxHeight)),w.maxWidth!==void 0&&(A.maxWidth=w.maxWidth+"px",S.width>w.maxWidth&&(A.minWidth=A.maxWidth)),Object.assign(r.style,A),r.scrollTop!==m&&(r.scrollTop=m),r.scrollLeft!==M&&(r.scrollLeft=M)}function et(e,t,r,l,a){const i=r.bottom,o=r.right,n=nl(),v=window.innerHeight-n,f=document.body.clientWidth;if(e.top<0||e.top+i>v)if(a.vertical==="center")e.top=t[l.vertical]>v/2?Math.max(0,v-i):0,e.maxHeight=Math.min(i,v);else if(t[l.vertical]>v/2){const c=Math.min(v,l.vertical==="center"?t.center:l.vertical===a.vertical?t.bottom:t.top);e.maxHeight=Math.min(i,c),e.top=Math.max(0,c-i)}else e.top=Math.max(0,l.vertical==="center"?t.center:l.vertical===a.vertical?t.top:t.bottom),e.maxHeight=Math.min(i,v-e.top);if(e.left<0||e.left+o>f)if(e.maxWidth=Math.min(o,f),a.horizontal==="middle")e.left=t[l.horizontal]>f/2?Math.max(0,f-o):0;else if(t[l.horizontal]>f/2){const c=Math.min(f,l.horizontal==="middle"?t.middle:l.horizontal===a.horizontal?t.right:t.left);e.maxWidth=Math.min(o,c),e.left=Math.max(0,c-e.maxWidth)}else e.left=Math.max(0,l.horizontal==="middle"?t.middle:l.horizontal===a.horizontal?t.left:t.right),e.maxWidth=Math.min(o,f-e.left)}const Lt=se({name:"QTooltip",inheritAttrs:!1,props:{...dl,...ml,...Je,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...Je.transitionShow,default:"jump-down"},transitionHide:{...Je.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Ft},self:{type:String,default:"top middle",validator:Ft},offset:{type:Array,default:()=>[14,14],validator:Tl},scrollTarget:ol,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...hl],setup(e,{slots:t,emit:r,attrs:l}){let a,i;const o=J(),{proxy:{$q:n}}=o,v=V(null),f=V(!1),c=s(()=>It(e.anchor,n.lang.rtl)),y=s(()=>It(e.self,n.lang.rtl)),M=s(()=>e.persistent!==!0),{registerTick:m,removeTick:S}=Ml(),{registerTimeout:O}=va(),{transitionProps:B,transitionStyle:N}=_l(e),{localScrollTarget:T,changeScrollEvent:A,unconfigureScrollTarget:H}=fl(e,d),{anchorEl:w,canShow:P,anchorEvents:$}=vl({showing:f,configureAnchorEl:D}),{show:R,hide:g}=gl({showing:f,canShow:P,handleShow:F,handleHide:u,hideOnRouteChange:M,processOnMount:!0});Object.assign($,{delayShow:L,delayHide:q});const{showPortal:h,hidePortal:z,renderPortal:k}=Sl(o,v,b,"tooltip");if(n.platform.is.mobile===!0){const I={anchorEl:w,innerRef:v,onClickOutside(U){return g(U),U.target.classList.contains("q-dialog__backdrop")&&Se(U),!0}},te=s(()=>e.modelValue===null&&e.persistent!==!0&&f.value===!0);W(te,U=>{(U===!0?ql:$t)(I)}),ne(()=>{$t(I)})}function F(I){h(),m(()=>{i=new MutationObserver(()=>_()),i.observe(v.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),_(),d()}),a===void 0&&(a=W(()=>n.screen.width+"|"+n.screen.height+"|"+e.self+"|"+e.anchor+"|"+n.lang.rtl,_)),O(()=>{h(!0),r("show",I)},e.transitionDuration)}function u(I){S(),z(),p(),O(()=>{z(!0),r("hide",I)},e.transitionDuration)}function p(){i!==void 0&&(i.disconnect(),i=void 0),a!==void 0&&(a(),a=void 0),H(),Ce($,"tooltipTemp")}function _(){ha({targetEl:v.value,offset:e.offset,anchorEl:w.value,anchorOrigin:c.value,selfOrigin:y.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function L(I){if(n.platform.is.mobile===!0){Ee(),document.body.classList.add("non-selectable");const te=w.value,U=["touchmove","touchcancel","touchend","click"].map(Y=>[te,Y,"delayHide","passiveCapture"]);me($,"tooltipTemp",U)}O(()=>{R(I)},e.delay)}function q(I){n.platform.is.mobile===!0&&(Ce($,"tooltipTemp"),Ee(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),O(()=>{g(I)},e.hideDelay)}function D(){if(e.noParentEvent===!0||w.value===null)return;const I=n.platform.is.mobile===!0?[[w.value,"touchstart","delayShow","passive"]]:[[w.value,"mouseenter","delayShow","passive"],[w.value,"mouseleave","delayHide","passive"]];me($,"anchor",I)}function d(){if(w.value!==null||e.scrollTarget!==void 0){T.value=rl(w.value,e.scrollTarget);const I=e.noParentEvent===!0?_:g;A(T.value,I)}}function E(){return f.value===!0?C("div",{...l,ref:v,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",l.class],style:[l.style,N.value],role:"tooltip"},he(t.default)):null}function b(){return C(mt,B.value,E)}return ne(p),Object.assign(o.proxy,{updatePosition:_}),k}}),Vl='<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity=".3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from=".5" to=".5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>',Al=se({name:"QSpinnerDots",props:il,setup(e){const{cSize:t,classes:r}=sl(e);return()=>C("svg",{class:r.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",innerHTML:Vl})}});function $l(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((r,l)=>{const a=parseFloat(r);a&&(t[l]=a)}),t}const El=Ia({name:"touch-swipe",beforeMount(e,{value:t,arg:r,modifiers:l}){if(l.mouse!==!0&&xe.has.touch!==!0)return;const a=l.mouseCapture===!0?"Capture":"",i={handler:t,sensitivity:$l(r),direction:zt(l),noop:Oa,mouseStart(o){Pt(o,i)&&La(o)&&(me(i,"temp",[[document,"mousemove","move",`notPassive${a}`],[document,"mouseup","end","notPassiveCapture"]]),i.start(o,!0))},touchStart(o){if(Pt(o,i)){const n=o.target;me(i,"temp",[[n,"touchmove","move","notPassiveCapture"],[n,"touchcancel","end","notPassiveCapture"],[n,"touchend","end","notPassiveCapture"]]),i.start(o)}},start(o,n){xe.is.firefox===!0&&Ke(e,!0);const v=ot(o);i.event={x:v.left,y:v.top,time:Date.now(),mouse:n===!0,dir:!1}},move(o){if(i.event===void 0)return;if(i.event.dir!==!1){Se(o);return}const n=Date.now()-i.event.time;if(n===0)return;const v=ot(o),f=v.left-i.event.x,c=Math.abs(f),y=v.top-i.event.y,M=Math.abs(y);if(i.event.mouse!==!0){if(c<i.sensitivity[1]&&M<i.sensitivity[1]){i.end(o);return}}else if(window.getSelection().toString()!==""){i.end(o);return}else if(c<i.sensitivity[2]&&M<i.sensitivity[2])return;const m=c/n,S=M/n;i.direction.vertical===!0&&c<M&&c<100&&S>i.sensitivity[0]&&(i.event.dir=y<0?"up":"down"),i.direction.horizontal===!0&&c>M&&M<100&&m>i.sensitivity[0]&&(i.event.dir=f<0?"left":"right"),i.direction.up===!0&&c<M&&y<0&&c<100&&S>i.sensitivity[0]&&(i.event.dir="up"),i.direction.down===!0&&c<M&&y>0&&c<100&&S>i.sensitivity[0]&&(i.event.dir="down"),i.direction.left===!0&&c>M&&f<0&&M<100&&m>i.sensitivity[0]&&(i.event.dir="left"),i.direction.right===!0&&c>M&&f>0&&M<100&&m>i.sensitivity[0]&&(i.event.dir="right"),i.event.dir!==!1?(Se(o),i.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ee(),i.styleCleanup=O=>{i.styleCleanup=void 0,document.body.classList.remove("non-selectable");const B=()=>{document.body.classList.remove("no-pointer-events--children")};O===!0?setTimeout(B,50):B()}),i.handler({evt:o,touch:i.event.mouse!==!0,mouse:i.event.mouse,direction:i.event.dir,duration:n,distance:{x:c,y:M}})):i.end(o)},end(o){i.event!==void 0&&(Ce(i,"temp"),xe.is.firefox===!0&&Ke(e,!1),i.styleCleanup!==void 0&&i.styleCleanup(!0),o!==void 0&&i.event.dir!==!1&&Se(o),i.event=void 0)}};if(e.__qtouchswipe=i,l.mouse===!0){const o=l.mouseCapture===!0||l.mousecapture===!0?"Capture":"";me(i,"main",[[e,"mousedown","mouseStart",`passive${o}`]])}xe.has.touch===!0&&me(i,"main",[[e,"touchstart","touchStart",`passive${l.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const r=e.__qtouchswipe;r!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&r.end(),r.handler=t.value),r.direction=zt(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(Ce(t,"main"),Ce(t,"temp"),xe.is.firefox===!0&&Ke(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});function Bl(){let e=Object.create(null);return{getCache:(t,r)=>e[t]===void 0?e[t]=typeof r=="function"?r():r:e[t],setCache(t,r){e[t]=r},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const Fl={name:{required:!0},disable:Boolean},Dt={setup(e,{slots:t}){return()=>C("div",{class:"q-panel scroll",role:"tabpanel"},he(t.default))}},Il={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Ol=["update:modelValue","beforeTransition","transition"];function Ll(){const{props:e,emit:t,proxy:r}=J(),{getCache:l}=Bl(),{registerTimeout:a}=va();let i,o;const n=V(null),v=V(null);function f(u){const p=e.vertical===!0?"up":"left";R((r.$q.lang.rtl===!0?-1:1)*(u.direction===p?1:-1))}const c=s(()=>[[El,f,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),y=s(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),M=s(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),m=s(()=>`--q-transition-duration: ${e.transitionDuration}ms`),S=s(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),O=s(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),B=s(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);W(()=>e.modelValue,(u,p)=>{const _=H(u)===!0?w(u):-1;o!==!0&&$(_===-1?0:_<w(p)?-1:1),n.value!==_&&(n.value=_,t("beforeTransition",u,p),a(()=>{t("transition",u,p)},e.transitionDuration))});function N(){R(1)}function T(){R(-1)}function A(u){t("update:modelValue",u)}function H(u){return u!=null&&u!==""}function w(u){return i.findIndex(p=>p.props.name===u&&p.props.disable!==""&&p.props.disable!==!0)}function P(){return i.filter(u=>u.props.disable!==""&&u.props.disable!==!0)}function $(u){const p=u!==0&&e.animated===!0&&n.value!==-1?"q-transition--"+(u===-1?y.value:M.value):null;v.value!==p&&(v.value=p)}function R(u,p=n.value){let _=p+u;for(;_!==-1&&_<i.length;){const L=i[_];if(L!==void 0&&L.props.disable!==""&&L.props.disable!==!0){$(u),o=!0,t("update:modelValue",L.props.name),setTimeout(()=>{o=!1});return}_+=u}e.infinite===!0&&i.length!==0&&p!==-1&&p!==i.length&&R(u,u===-1?i.length:-1)}function g(){const u=w(e.modelValue);return n.value!==u&&(n.value=u),!0}function h(){const u=H(e.modelValue)===!0&&g()&&i[n.value];return e.keepAlive===!0?[C(Da,O.value,[C(B.value===!0?l(S.value,()=>({...Dt,name:S.value})):Dt,{key:S.value,style:m.value},()=>u)])]:[C("div",{class:"q-panel scroll",style:m.value,key:S.value,role:"tabpanel"},[u])]}function z(){if(i.length!==0)return e.animated===!0?[C(mt,{name:v.value},h)]:h()}function k(u){return i=ca(he(u.default,[])).filter(p=>p.props!==null&&p.props.slot===void 0&&H(p.props.name)===!0),i.length}function F(){return i}return Object.assign(r,{next:N,previous:T,goTo:A}),{panelIndex:n,panelDirectives:c,updatePanelsList:k,updatePanelIndex:g,getPanelContent:z,getEnabledPanels:P,getPanels:F,isValidPanelName:H,keepAliveProps:O,needsUniqueKeepAliveWrapper:B,goToPanelByOffset:R,goToPanel:A,nextPanel:N,previousPanel:T}}const Dl=se({name:"QCarouselSlide",props:{...Fl,imgSrc:String},setup(e,{slots:t}){const r=s(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>C("div",{class:"q-carousel__slide",style:r.value},he(t.default))}});let Me=0;const Hl={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Nl=["update:fullscreen","fullscreen"];function jl(){const e=J(),{props:t,emit:r,proxy:l}=e;let a,i,o;const n=V(!1);ua(e)===!0&&W(()=>l.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&c()}),W(()=>t.fullscreen,y=>{n.value!==y&&v()}),W(n,y=>{r("update:fullscreen",y),r("fullscreen",y)});function v(){n.value===!0?c():f()}function f(){n.value!==!0&&(n.value=!0,o=l.$el.parentNode,o.replaceChild(i,l.$el),document.body.appendChild(l.$el),Me++,Me===1&&document.body.classList.add("q-body--fullscreen-mixin"),a={handler:c},_t.add(a))}function c(){n.value===!0&&(a!==void 0&&(_t.remove(a),a=void 0),o.replaceChild(l.$el,i),n.value=!1,Me=Math.max(0,Me-1),Me===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),l.$el.scrollIntoView!==void 0&&setTimeout(()=>{l.$el.scrollIntoView()})))}return Ha(()=>{i=document.createElement("span")}),ce(()=>{t.fullscreen===!0&&f()}),ne(c),Object.assign(l,{toggleFullscreen:v,setFullscreen:f,exitFullscreen:c}),{inFullscreen:n,toggleFullscreen:v}}const Wl=["top","right","bottom","left"],Ql=["regular","flat","outline","push","unelevated"],Kl=se({name:"QCarousel",props:{...Le,...Il,...Hl,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>Ql.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>Wl.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...Nl,...Ol],setup(e,{slots:t}){const{proxy:{$q:r}}=J(),l=De(e,r);let a=null,i;const{updatePanelsList:o,getPanelContent:n,panelDirectives:v,goToPanel:f,previousPanel:c,nextPanel:y,getEnabledPanels:M,panelIndex:m}=Ll(),{inFullscreen:S}=jl(),O=s(()=>S.value!==!0&&e.height!==void 0?{height:e.height}:{}),B=s(()=>e.vertical===!0?"vertical":"horizontal"),N=s(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),T=s(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(S.value===!0?" fullscreen":"")+(l.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${B.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${N.value}`:"")),A=s(()=>{const h=[e.prevIcon||r.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||r.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&r.lang.rtl===!0?h.reverse():h}),H=s(()=>e.navigationIcon||r.iconSet.carousel.navigationIcon),w=s(()=>e.navigationActiveIcon||H.value),P=s(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));W(()=>e.modelValue,()=>{e.autoplay&&$()}),W(()=>e.autoplay,h=>{h?$():a!==null&&(clearTimeout(a),a=null)});function $(){const h=ta(e.autoplay)===!0?Math.abs(e.autoplay):5e3;a!==null&&clearTimeout(a),a=setTimeout(()=>{a=null,h>=0?y():c()},h)}ce(()=>{e.autoplay&&$()}),ne(()=>{a!==null&&clearTimeout(a)});function R(h,z){return C("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${h} q-carousel__navigation--${N.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[C("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},M().map(z))])}function g(){const h=[];if(e.navigation===!0){const z=t["navigation-icon"]!==void 0?t["navigation-icon"]:F=>C(ue,{key:"nav"+F.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${F.active===!0?"":"in"}active`,...F.btnProps,onClick:F.onClick}),k=i-1;h.push(R("buttons",(F,u)=>{const p=F.props.name,_=m.value===u;return z({index:u,maxIndex:k,name:p,active:_,btnProps:{icon:_===!0?w.value:H.value,size:"sm",...P.value},onClick:()=>{f(p)}})}))}else if(e.thumbnails===!0){const z=e.controlColor!==void 0?` text-${e.controlColor}`:"";h.push(R("thumbnails",k=>{const F=k.props;return C("img",{key:"tmb#"+F.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${F.name===e.modelValue?"":"in"}active`+z,src:F.imgSrc||F["img-src"],onClick:()=>{f(F.name)}})}))}return e.arrows===!0&&m.value>=0&&((e.infinite===!0||m.value>0)&&h.push(C("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${B.value} absolute flex flex-center`},[C(ue,{icon:A.value[0],...P.value,onClick:c})])),(e.infinite===!0||m.value<i-1)&&h.push(C("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${B.value} absolute flex flex-center`},[C(ue,{icon:A.value[1],...P.value,onClick:y})]))),gt(t.control,h)}return()=>(i=o(t),C("div",{class:T.value,style:O.value},[da("div",{class:"q-carousel__slides-container"},n(),"sl-cont",e.swipeable,()=>v.value)].concat(g())))}});function ie(e,t,r){return r<=t?t:Math.min(r,Math.max(t,e))}const Ht="q-slider__marker-labels",Ul=e=>({value:e}),Yl=({marker:e})=>C("div",{key:e.value,style:e.style,class:e.classes},e.label),ga=[34,37,40,33,39,38],Zl={...Le,...sa,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Xl=["pan","update:modelValue","change"];function Gl({updateValue:e,updatePosition:t,getDragging:r,formAttrs:l}){const{props:a,emit:i,slots:o,proxy:{$q:n}}=J(),v=De(a,n),f=Za(l),c=V(!1),y=V(!1),M=V(!1),m=V(!1),S=s(()=>a.vertical===!0?"--v":"--h"),O=s(()=>"-"+(a.switchLabelSide===!0?"switched":"standard")),B=s(()=>a.vertical===!0?a.reverse===!0:a.reverse!==(n.lang.rtl===!0)),N=s(()=>isNaN(a.innerMin)===!0||a.innerMin<a.min?a.min:a.innerMin),T=s(()=>isNaN(a.innerMax)===!0||a.innerMax>a.max?a.max:a.innerMax),A=s(()=>a.disable!==!0&&a.readonly!==!0&&N.value<T.value),H=s(()=>{if(a.step===0)return j=>j;const x=(String(a.step).trim().split(".")[1]||"").length;return j=>parseFloat(j.toFixed(x))}),w=s(()=>a.step===0?1:a.step),P=s(()=>A.value===!0?a.tabindex||0:-1),$=s(()=>a.max-a.min),R=s(()=>T.value-N.value),g=s(()=>He(N.value)),h=s(()=>He(T.value)),z=s(()=>a.vertical===!0?B.value===!0?"bottom":"top":B.value===!0?"right":"left"),k=s(()=>a.vertical===!0?"height":"width"),F=s(()=>a.vertical===!0?"width":"height"),u=s(()=>a.vertical===!0?"vertical":"horizontal"),p=s(()=>{const x={role:"slider","aria-valuemin":N.value,"aria-valuemax":T.value,"aria-orientation":u.value,"data-step":a.step};return a.disable===!0?x["aria-disabled"]="true":a.readonly===!0&&(x["aria-readonly"]="true"),x}),_=s(()=>`q-slider q-slider${S.value} q-slider--${c.value===!0?"":"in"}active inline no-wrap `+(a.vertical===!0?"row":"column")+(a.disable===!0?" disabled":" q-slider--enabled"+(A.value===!0?" q-slider--editable":""))+(M.value==="both"?" q-slider--focus":"")+(a.label||a.labelAlways===!0?" q-slider--label":"")+(a.labelAlways===!0?" q-slider--label-always":"")+(v.value===!0?" q-slider--dark":"")+(a.dense===!0?" q-slider--dense q-slider--dense"+S.value:""));function L(x){const j="q-slider__"+x;return`${j} ${j}${S.value} ${j}${S.value}${O.value}`}function q(x){const j="q-slider__"+x;return`${j} ${j}${S.value}`}const D=s(()=>{const x=a.selectionColor||a.color;return"q-slider__selection absolute"+(x!==void 0?` text-${x}`:"")}),d=s(()=>q("markers")+" absolute overflow-hidden"),E=s(()=>q("track-container")),b=s(()=>L("pin")),I=s(()=>L("label")),te=s(()=>L("text-container")),U=s(()=>L("marker-labels-container")+(a.markerLabelsClass!==void 0?` ${a.markerLabelsClass}`:"")),Y=s(()=>"q-slider__track relative-position no-outline"+(a.trackColor!==void 0?` bg-${a.trackColor}`:"")),de=s(()=>{const x={[F.value]:a.trackSize};return a.trackImg!==void 0&&(x.backgroundImage=`url(${a.trackImg}) !important`),x}),ka=s(()=>"q-slider__inner absolute"+(a.innerTrackColor!==void 0?` bg-${a.innerTrackColor}`:"")),pt=s(()=>{const x=h.value-g.value,j={[z.value]:`${100*g.value}%`,[k.value]:x===0?"2px":`${100*x}%`};return a.innerTrackImg!==void 0&&(j.backgroundImage=`url(${a.innerTrackImg}) !important`),j});function xa(x){const{min:j,max:Q,step:K}=a;let ee=j+x*(Q-j);if(K>0){const ve=(ee-N.value)%K;ee+=(Math.abs(ve)>=K/2?(ve<0?-1:1)*K:0)-ve}return ee=H.value(ee),ie(ee,N.value,T.value)}function He(x){return $.value===0?0:(x-a.min)/$.value}function wa(x,j){const Q=ot(x),K=a.vertical===!0?ie((Q.top-j.top)/j.height,0,1):ie((Q.left-j.left)/j.width,0,1);return ie(B.value===!0?1-K:K,g.value,h.value)}const bt=s(()=>ta(a.markers)===!0?a.markers:w.value),yt=s(()=>{const x=[],j=bt.value,Q=a.max;let K=a.min;do x.push(K),K+=j;while(K<Q);return x.push(Q),x}),kt=s(()=>{const x=` ${Ht}${S.value}-`;return Ht+`${x}${a.switchMarkerLabelsSide===!0?"switched":"standard"}${x}${B.value===!0?"rtl":"ltr"}`}),Ne=s(()=>a.markerLabels===!1?null:Sa(a.markerLabels).map((x,j)=>({index:j,value:x.value,label:x.label||x.value,classes:kt.value+(x.classes!==void 0?" "+x.classes:""),style:{...wt(x.value),...x.style||{}}}))),xt=s(()=>({markerList:Ne.value,markerMap:_a.value,classes:kt.value,getStyle:wt})),Ca=s(()=>{const x=R.value===0?"2px":100*bt.value/R.value;return{...pt.value,backgroundSize:a.vertical===!0?`2px ${x}%`:`${x}% 2px`}});function Sa(x){if(x===!1)return null;if(x===!0)return yt.value.map(Ul);if(typeof x=="function")return yt.value.map(Q=>{const K=x(Q);return Ue(K)===!0?{...K,value:Q}:{value:Q,label:K}});const j=({value:Q})=>Q>=a.min&&Q<=a.max;return Array.isArray(x)===!0?x.map(Q=>Ue(Q)===!0?Q:{value:Q}).filter(j):Object.keys(x).map(Q=>{const K=x[Q],ee=Number(Q);return Ue(K)===!0?{...K,value:ee}:{value:ee,label:K}}).filter(j)}function wt(x){return{[z.value]:`${100*(x-a.min)/$.value}%`}}const _a=s(()=>{if(a.markerLabels===!1)return null;const x={};return Ne.value.forEach(j=>{x[j.value]=j}),x});function Ma(){if(o["marker-label-group"]!==void 0)return o["marker-label-group"](xt.value);const x=o["marker-label"]||Yl;return Ne.value.map(j=>x({marker:j,...xt.value}))}const qa=s(()=>[[rt,Ta,void 0,{[u.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Ta(x){x.isFinal===!0?(m.value!==void 0&&(t(x.evt),x.touch===!0&&e(!0),m.value=void 0,i("pan","end")),c.value=!1,M.value=!1):x.isFirst===!0?(m.value=r(x.evt),t(x.evt),e(),c.value=!0,i("pan","start")):(t(x.evt),e())}function Ct(){M.value=!1}function za(x){t(x,r(x)),e(),y.value=!0,c.value=!0,document.addEventListener("mouseup",je,!0)}function je(){y.value=!1,c.value=!1,e(!0),Ct(),document.removeEventListener("mouseup",je,!0)}function Pa(x){t(x,r(x)),e(!0)}function Ra(x){ga.includes(x.keyCode)&&e(!0)}function Va(x){if(a.vertical===!0)return null;const j=n.lang.rtl!==a.reverse?1-x:x;return{transform:`translateX(calc(${2*j-1} * ${a.thumbSize} / 2 + ${50-100*j}%))`}}function Aa(x){const j=s(()=>y.value===!1&&(M.value===x.focusValue||M.value==="both")?" q-slider--focus":""),Q=s(()=>`q-slider__thumb q-slider__thumb${S.value} q-slider__thumb${S.value}-${B.value===!0?"rtl":"ltr"} absolute non-selectable`+j.value+(x.thumbColor.value!==void 0?` text-${x.thumbColor.value}`:"")),K=s(()=>({width:a.thumbSize,height:a.thumbSize,[z.value]:`${100*x.ratio.value}%`,zIndex:M.value===x.focusValue?2:void 0})),ee=s(()=>x.labelColor.value!==void 0?` text-${x.labelColor.value}`:""),ve=s(()=>Va(x.ratio.value)),We=s(()=>"q-slider__text"+(x.labelTextColor.value!==void 0?` text-${x.labelTextColor.value}`:""));return()=>{const Qe=[C("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[C("path",{d:a.thumbPath})]),C("div",{class:"q-slider__focus-ring fit"})];return(a.label===!0||a.labelAlways===!0)&&(Qe.push(C("div",{class:b.value+" absolute fit no-pointer-events"+ee.value},[C("div",{class:I.value,style:{minWidth:a.thumbSize}},[C("div",{class:te.value,style:ve.value},[C("span",{class:We.value},x.label.value)])])])),a.name!==void 0&&a.disable!==!0&&f(Qe,"push")),C("div",{class:Q.value,style:K.value,...x.getNodeData()},Qe)}}function $a(x,j,Q,K){const ee=[];a.innerTrackColor!=="transparent"&&ee.push(C("div",{key:"inner",class:ka.value,style:pt.value})),a.selectionColor!=="transparent"&&ee.push(C("div",{key:"selection",class:D.value,style:x.value})),a.markers!==!1&&ee.push(C("div",{key:"marker",class:d.value,style:Ca.value})),K(ee);const ve=[da("div",{key:"trackC",class:E.value,tabindex:j.value,...Q.value},[C("div",{class:Y.value,style:de.value},ee)],"slide",A.value,()=>qa.value)];if(a.markerLabels!==!1){const We=a.switchMarkerLabelsSide===!0?"unshift":"push";ve[We](C("div",{key:"markerL",class:U.value},Ma()))}return ve}return ne(()=>{document.removeEventListener("mouseup",je,!0)}),{state:{active:c,focus:M,preventFocus:y,dragging:m,editable:A,classes:_,tabindex:P,attributes:p,roundValueFn:H,keyStep:w,trackLen:$,innerMin:N,innerMinRatio:g,innerMax:T,innerMaxRatio:h,positionProp:z,sizeProp:k,isReversed:B},methods:{onActivate:za,onMobileClick:Pa,onBlur:Ct,onKeyup:Ra,getContent:$a,getThumbRenderFn:Aa,convertRatioToModel:xa,convertModelToRatio:He,getDraggingRatio:wa}}}const Jl=()=>({}),en=se({name:"QSlider",props:{...Zl,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:Xl,setup(e,{emit:t}){const{proxy:{$q:r}}=J(),{state:l,methods:a}=Gl({updateValue:S,updatePosition:B,getDragging:O,formAttrs:Xa(e)}),i=V(null),o=V(0),n=V(0);function v(){n.value=e.modelValue===null?l.innerMin.value:ie(e.modelValue,l.innerMin.value,l.innerMax.value)}W(()=>`${e.modelValue}|${l.innerMin.value}|${l.innerMax.value}`,v),v();const f=s(()=>a.convertModelToRatio(n.value)),c=s(()=>l.active.value===!0?o.value:f.value),y=s(()=>{const A={[l.positionProp.value]:`${100*l.innerMinRatio.value}%`,[l.sizeProp.value]:`${100*(c.value-l.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(A.backgroundImage=`url(${e.selectionImg}) !important`),A}),M=a.getThumbRenderFn({focusValue:!0,getNodeData:Jl,ratio:c,label:s(()=>e.labelValue!==void 0?e.labelValue:n.value),thumbColor:s(()=>e.thumbColor||e.color),labelColor:s(()=>e.labelColor),labelTextColor:s(()=>e.labelTextColor)}),m=s(()=>l.editable.value!==!0?{}:r.platform.is.mobile===!0?{onClick:a.onMobileClick}:{onMousedown:a.onActivate,onFocus:N,onBlur:a.onBlur,onKeydown:T,onKeyup:a.onKeyup});function S(A){n.value!==e.modelValue&&t("update:modelValue",n.value),A===!0&&t("change",n.value)}function O(){return i.value.getBoundingClientRect()}function B(A,H=l.dragging.value){const w=a.getDraggingRatio(A,H);n.value=a.convertRatioToModel(w),o.value=e.snap!==!0||e.step===0?w:a.convertModelToRatio(n.value)}function N(){l.focus.value=!0}function T(A){if(!ga.includes(A.keyCode))return;Se(A);const H=([34,33].includes(A.keyCode)?10:1)*l.keyStep.value,w=([34,37,40].includes(A.keyCode)?-1:1)*(l.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*H;n.value=ie(l.roundValueFn.value(n.value+w),l.innerMin.value,l.innerMax.value),S()}return()=>{const A=a.getContent(y,l.tabindex,m,H=>{H.push(M())});return C("div",{ref:i,class:l.classes.value+(e.modelValue===null?" q-slider--no-value":""),...l.attributes.value,"aria-valuenow":e.modelValue},A)}}}),tn=se({name:"QChatMessage",props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelHtml:Boolean,nameHtml:Boolean,textHtml:Boolean,stampHtml:Boolean},setup(e,{slots:t}){const r=s(()=>e.sent===!0?"sent":"received"),l=s(()=>`q-message-text-content q-message-text-content--${r.value}`+(e.textColor!==void 0?` text-${e.textColor}`:"")),a=s(()=>`q-message-text q-message-text--${r.value}`+(e.bgColor!==void 0?` text-${e.bgColor}`:"")),i=s(()=>"q-message-container row items-end no-wrap"+(e.sent===!0?" reverse":"")),o=s(()=>e.size!==void 0?`col-${e.size}`:""),n=s(()=>({msg:e.textHtml===!0?"innerHTML":"textContent",stamp:e.stampHtml===!0?"innerHTML":"textContent",name:e.nameHtml===!0?"innerHTML":"textContent",label:e.labelHtml===!0?"innerHTML":"textContent"}));function v(c){return t.stamp!==void 0?[c,C("div",{class:"q-message-stamp"},t.stamp())]:e.stamp?[c,C("div",{class:"q-message-stamp",[n.value.stamp]:e.stamp})]:[c]}function f(c,y){const M=y===!0?c.length>1?m=>m:m=>C("div",[m]):m=>C("div",{[n.value.msg]:m});return c.map((m,S)=>C("div",{key:S,class:a.value},[C("div",{class:l.value},v(M(m)))]))}return()=>{const c=[];t.avatar!==void 0?c.push(t.avatar()):e.avatar!==void 0&&c.push(C("img",{class:`q-message-avatar q-message-avatar--${r.value}`,src:e.avatar,"aria-hidden":"true"}));const y=[];t.name!==void 0?y.push(C("div",{class:`q-message-name q-message-name--${r.value}`},t.name())):e.name!==void 0&&y.push(C("div",{class:`q-message-name q-message-name--${r.value}`,[n.value.name]:e.name})),t.default!==void 0?y.push(f(ca(t.default()),!0)):e.text!==void 0&&y.push(f(e.text)),c.push(C("div",{class:o.value},y));const M=[];return t.label!==void 0?M.push(C("div",{class:"q-message-label"},t.label())):e.label!==void 0&&M.push(C("div",{class:"q-message-label",[n.value.label]:e.label})),M.push(C("div",{class:i.value},c)),C("div",{class:`q-message q-message-${r.value}`},M)}}}),an=se({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[C("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),C("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),Mt(C("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),Mt(C("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}}),Nt=["vertical","horizontal"],tt={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},jt={prevent:!0,mouse:!0,mouseAllDir:!0},Wt=e=>e>=250?50:Math.ceil(e/5),ln=se({name:"QScrollArea",props:{...Le,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:t,emit:r}){const l=V(!1),a=V(!1),i=V(!1),o={vertical:V(0),horizontal:V(0)},n={vertical:{ref:V(null),position:V(0),size:V(0)},horizontal:{ref:V(null),position:V(0),size:V(0)}},{proxy:v}=J(),f=De(e,v.$q);let c=null,y;const M=V(null),m=s(()=>"q-scrollarea"+(f.value===!0?" q-scrollarea--dark":""));Object.assign(o,{verticalInner:s(()=>o.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:s(()=>o.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),n.vertical.percentage=s(()=>{const u=n.vertical.size.value-o.vertical.value;if(u<=0)return 0;const p=ie(n.vertical.position.value/u,0,1);return Math.round(p*1e4)/1e4}),n.vertical.thumbHidden=s(()=>(e.visible===null?i.value:e.visible)!==!0&&l.value===!1&&a.value===!1||n.vertical.size.value<=o.vertical.value+1),n.vertical.thumbStart=s(()=>e.verticalOffset[0]+n.vertical.percentage.value*(o.verticalInner.value-n.vertical.thumbSize.value)),n.vertical.thumbSize=s(()=>Math.round(ie(o.verticalInner.value*o.verticalInner.value/n.vertical.size.value,Wt(o.verticalInner.value),o.verticalInner.value))),n.vertical.style=s(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${n.vertical.thumbStart.value}px`,height:`${n.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),n.vertical.thumbClass=s(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(n.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),n.vertical.barClass=s(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(n.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),n.horizontal.percentage=s(()=>{const u=n.horizontal.size.value-o.horizontal.value;if(u<=0)return 0;const p=ie(Math.abs(n.horizontal.position.value)/u,0,1);return Math.round(p*1e4)/1e4}),n.horizontal.thumbHidden=s(()=>(e.visible===null?i.value:e.visible)!==!0&&l.value===!1&&a.value===!1||n.horizontal.size.value<=o.horizontal.value+1),n.horizontal.thumbStart=s(()=>e.horizontalOffset[0]+n.horizontal.percentage.value*(o.horizontalInner.value-n.horizontal.thumbSize.value)),n.horizontal.thumbSize=s(()=>Math.round(ie(o.horizontalInner.value*o.horizontalInner.value/n.horizontal.size.value,Wt(o.horizontalInner.value),o.horizontalInner.value))),n.horizontal.style=s(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[v.$q.lang.rtl===!0?"right":"left"]:`${n.horizontal.thumbStart.value}px`,width:`${n.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),n.horizontal.thumbClass=s(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(n.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),n.horizontal.barClass=s(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(n.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const S=s(()=>n.vertical.thumbHidden.value===!0&&n.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function O(){const u={};return Nt.forEach(p=>{const _=n[p];Object.assign(u,{[p+"Position"]:_.position.value,[p+"Percentage"]:_.percentage.value,[p+"Size"]:_.size.value,[p+"ContainerSize"]:o[p].value,[p+"ContainerInnerSize"]:o[p+"Inner"].value})}),u}const B=aa(()=>{const u=O();u.ref=v,r("scroll",u)},0);function N(u,p,_){if(Nt.includes(u)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(u==="vertical"?Vt:Ge)(M.value,p,_)}function T({height:u,width:p}){let _=!1;o.vertical.value!==u&&(o.vertical.value=u,_=!0),o.horizontal.value!==p&&(o.horizontal.value=p,_=!0),_===!0&&$()}function A({position:u}){let p=!1;n.vertical.position.value!==u.top&&(n.vertical.position.value=u.top,p=!0),n.horizontal.position.value!==u.left&&(n.horizontal.position.value=u.left,p=!0),p===!0&&$()}function H({height:u,width:p}){n.horizontal.size.value!==p&&(n.horizontal.size.value=p,$()),n.vertical.size.value!==u&&(n.vertical.size.value=u,$())}function w(u,p){const _=n[p];if(u.isFirst===!0){if(_.thumbHidden.value===!0)return;y=_.position.value,a.value=!0}else if(a.value!==!0)return;u.isFinal===!0&&(a.value=!1);const L=tt[p],q=(_.size.value-o[p].value)/(o[p+"Inner"].value-_.thumbSize.value),D=u.distance[L.dist],d=y+(u.direction===L.dir?1:-1)*D*q;R(d,p)}function P(u,p){const _=n[p];if(_.thumbHidden.value!==!0){const L=p==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],q=u[tt[p].offset]-L,D=_.thumbStart.value-L;if(q<D||q>D+_.thumbSize.value){const d=q-_.thumbSize.value/2,E=ie(d/(o[p+"Inner"].value-_.thumbSize.value),0,1);R(E*Math.max(0,_.size.value-o[p].value),p)}_.ref.value!==null&&_.ref.value.dispatchEvent(new MouseEvent(u.type,u))}}function $(){l.value=!0,c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,l.value=!1},e.delay),e.onScroll!==void 0&&B()}function R(u,p){M.value[tt[p].scroll]=u}let g=null;function h(){g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,i.value=!0},v.$q.platform.is.ios?50:0)}function z(){g!==null&&(clearTimeout(g),g=null),i.value=!1}let k=null;W(()=>v.$q.lang.rtl,u=>{M.value!==null&&Ge(M.value,Math.abs(n.horizontal.position.value)*(u===!0?-1:1))}),ft(()=>{k={top:n.vertical.position.value,left:n.horizontal.position.value}}),la(()=>{if(k===null)return;const u=M.value;u!==null&&(Ge(u,k.left),Vt(u,k.top))}),ne(B.cancel),Object.assign(v,{getScrollTarget:()=>M.value,getScroll:O,getScrollPosition:()=>({top:n.vertical.position.value,left:n.horizontal.position.value}),getScrollPercentage:()=>({top:n.vertical.percentage.value,left:n.horizontal.percentage.value}),setScrollPosition:N,setScrollPercentage(u,p,_){N(u,p*(n[u].size.value-o[u].value)*(u==="horizontal"&&v.$q.lang.rtl===!0?-1:1),_)}});const F={scroll:n,thumbVertDir:[[rt,u=>{w(u,"vertical")},void 0,{vertical:!0,...jt}]],thumbHorizDir:[[rt,u=>{w(u,"horizontal")},void 0,{horizontal:!0,...jt}]],onVerticalMousedown(u){P(u,"vertical")},onHorizontalMousedown(u){P(u,"horizontal")}};return()=>C("div",{class:m.value,onMouseenter:h,onMouseleave:z},[C("div",{ref:M,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[C("div",{class:"q-scrollarea__content absolute",style:S.value},gt(t.default,[C(st,{debounce:0,onResize:H})])),C(al,{axis:"both",onScroll:A})]),C(st,{debounce:0,onResize:T}),C(an,{store:F,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}}),nn=se({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:r}){const{proxy:{$q:l}}=J(),a=ht(Na,Ye);if(a===Ye)return console.error("QFooter needs to be child of QLayout"),Ye;const i=V(parseInt(e.heightHint,10)),o=V(!0),n=V(na.value===!0||a.isContainer.value===!0?0:window.innerHeight),v=s(()=>e.reveal===!0||a.view.value.indexOf("F")!==-1||l.platform.is.ios&&a.isContainer.value===!0),f=s(()=>a.isContainer.value===!0?a.containerHeight.value:n.value),c=s(()=>{if(e.modelValue!==!0)return 0;if(v.value===!0)return o.value===!0?i.value:0;const w=a.scroll.value.position+f.value+i.value-a.height.value;return w>0?w:0}),y=s(()=>e.modelValue!==!0||v.value===!0&&o.value!==!0),M=s(()=>e.modelValue===!0&&y.value===!0&&e.reveal===!0),m=s(()=>"q-footer q-layout__section--marginal "+(v.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(y.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(v.value!==!0?" hidden":""):"")),S=s(()=>{const w=a.rows.value.bottom,P={};return w[0]==="l"&&a.left.space===!0&&(P[l.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),w[2]==="r"&&a.right.space===!0&&(P[l.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),P});function O(w,P){a.update("footer",w,P)}function B(w,P){w.value!==P&&(w.value=P)}function N({height:w}){B(i,w),O("size",w)}function T(){if(e.reveal!==!0)return;const{direction:w,position:P,inflectionPoint:$}=a.scroll.value;B(o,w==="up"||P-$<100||a.height.value-f.value-P-i.value<300)}function A(w){M.value===!0&&B(o,!0),r("focusin",w)}W(()=>e.modelValue,w=>{O("space",w),B(o,!0),a.animate()}),W(c,w=>{O("offset",w)}),W(()=>e.reveal,w=>{w===!1&&B(o,e.modelValue)}),W(o,w=>{a.animate(),r("reveal",w)}),W([i,a.scroll,a.height],T),W(()=>l.screen.height,w=>{a.isContainer.value!==!0&&B(n,w)});const H={};return a.instances.footer=H,e.modelValue===!0&&O("size",i.value),O("space",e.modelValue),O("offset",c.value),ne(()=>{a.instances.footer===H&&(a.instances.footer=void 0,O("size",0),O("offset",0),O("space",!1))}),()=>{const w=gt(t.default,[C(st,{debounce:0,onResize:N})]);return e.elevated===!0&&w.push(C("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),C("footer",{class:m.value,style:S.value,onFocusin:A},w)}}});function pa(){return ht(ja)}let at,Re=0;const G=new Array(256);for(let e=0;e<256;e++)G[e]=(e+256).toString(16).substring(1);const on=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const r=new Uint8Array(t);return e.getRandomValues(r),r}}return t=>{const r=[];for(let l=t;l>0;l--)r.push(Math.floor(Math.random()*256));return r}})(),Qt=4096;function ct(){(at===void 0||Re+16>Qt)&&(Re=0,at=on(Qt));const e=Array.prototype.slice.call(at,Re,Re+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,G[e[0]]+G[e[1]]+G[e[2]]+G[e[3]]+"-"+G[e[4]]+G[e[5]]+"-"+G[e[6]]+G[e[7]]+"-"+G[e[8]]+G[e[9]]+"-"+G[e[10]]+G[e[11]]+G[e[12]]+G[e[13]]+G[e[14]]+G[e[15]]}function rn(e){return e??null}function Kt(e,t){return e??(t===!0?`f_${ct()}`:null)}function sn({getValue:e,required:t=!0}={}){if(na.value===!0){const r=e!==void 0?V(rn(e())):V(null);return t===!0&&r.value===null&&ce(()=>{r.value=`f_${ct()}`}),e!==void 0&&W(e,l=>{r.value=Kt(l,t)}),r}return e!==void 0?s(()=>Kt(e(),t)):V(`f_${ct()}`)}const Ut=/^on[A-Z]/;function un(){const{attrs:e,vnode:t}=J(),r={listeners:V({}),attributes:V({})};function l(){const a={},i={};for(const o in e)o!=="class"&&o!=="style"&&Ut.test(o)===!1&&(a[o]=e[o]);for(const o in t.props)Ut.test(o)===!0&&(i[o]=t.props[o]);r.attributes.value=a,r.listeners.value=i}return Wa(l),l(),r}function cn({validate:e,resetValidation:t,requiresQForm:r}){const l=ht(Qa,!1);if(l!==!1){const{props:a,proxy:i}=J();Object.assign(i,{validate:e,resetValidation:t}),W(()=>a.disable,o=>{o===!0?(typeof t=="function"&&t(),l.unbindComponent(i)):l.bindComponent(i)}),ce(()=>{a.disable!==!0&&l.bindComponent(i)}),ne(()=>{a.disable!==!0&&l.unbindComponent(i)})}else r===!0&&console.error("Parent QForm not found on useFormChild()!")}const Yt=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Zt=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Xt=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Ve=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Ae=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,lt={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Yt.test(e),hexaColor:e=>Zt.test(e),hexOrHexaColor:e=>Xt.test(e),rgbColor:e=>Ve.test(e),rgbaColor:e=>Ae.test(e),rgbOrRgbaColor:e=>Ve.test(e)||Ae.test(e),hexOrRgbColor:e=>Yt.test(e)||Ve.test(e),hexaOrRgbaColor:e=>Zt.test(e)||Ae.test(e),anyColor:e=>Xt.test(e)||Ve.test(e)||Ae.test(e)},dn=[!0,!1,"ondemand"],vn={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>dn.includes(e)}};function fn(e,t){const{props:r,proxy:l}=J(),a=V(!1),i=V(null),o=V(!1);cn({validate:O,resetValidation:S});let n=0,v;const f=s(()=>r.rules!==void 0&&r.rules!==null&&r.rules.length!==0),c=s(()=>r.disable!==!0&&f.value===!0&&t.value===!1),y=s(()=>r.error===!0||a.value===!0),M=s(()=>typeof r.errorMessage=="string"&&r.errorMessage.length!==0?r.errorMessage:i.value);W(()=>r.modelValue,()=>{o.value=!0,c.value===!0&&r.lazyRules===!1&&B()});function m(){r.lazyRules!=="ondemand"&&c.value===!0&&o.value===!0&&B()}W(()=>r.reactiveRules,N=>{N===!0?v===void 0&&(v=W(()=>r.rules,m,{immediate:!0,deep:!0})):v!==void 0&&(v(),v=void 0)},{immediate:!0}),W(()=>r.lazyRules,m),W(e,N=>{N===!0?o.value=!0:c.value===!0&&r.lazyRules!=="ondemand"&&B()});function S(){n++,t.value=!1,o.value=!1,a.value=!1,i.value=null,B.cancel()}function O(N=r.modelValue){if(r.disable===!0||f.value===!1)return!0;const T=++n,A=t.value!==!0?()=>{o.value=!0}:()=>{},H=(P,$)=>{P===!0&&A(),a.value=P,i.value=$||null,t.value=!1},w=[];for(let P=0;P<r.rules.length;P++){const $=r.rules[P];let R;if(typeof $=="function"?R=$(N,lt):typeof $=="string"&&lt[$]!==void 0&&(R=lt[$](N)),R===!1||typeof R=="string")return H(!0,R),!1;R!==!0&&R!==void 0&&w.push(R)}return w.length===0?(H(!1),!0):(t.value=!0,Promise.all(w).then(P=>{if(P===void 0||Array.isArray(P)===!1||P.length===0)return T===n&&H(!1),!0;const $=P.find(R=>R===!1||typeof R=="string");return T===n&&H($!==void 0,$),$===void 0},P=>(T===n&&(console.error(P),H(!0)),!1)))}const B=aa(O,0);return ne(()=>{v!==void 0&&v(),B.cancel()}),Object.assign(l,{resetValidation:S,validate:O}),vt(l,"hasError",()=>y.value),{isDirtyModel:o,hasRules:f,hasError:y,errorMessage:M,validate:O,resetValidation:S}}function dt(e){return e!=null&&(""+e).length!==0}const mn={...Le,...vn,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},hn={...mn,maxlength:[Number,String]},gn=["update:modelValue","clear","focus","blur"];function pn({requiredForAttr:e=!0,tagProp:t,changeEvent:r=!1}={}){const{props:l,proxy:a}=J(),i=De(l,a.$q),o=sn({required:e,getValue:()=>l.for});return{requiredForAttr:e,changeEvent:r,tag:t===!0?s(()=>l.tag):{value:"label"},isDark:i,editable:s(()=>l.disable!==!0&&l.readonly!==!0),innerLoading:V(!1),focused:V(!1),hasPopupOpen:!1,splitAttrs:un(),targetUid:o,rootRef:V(null),targetRef:V(null),controlRef:V(null)}}function bn(e){const{props:t,emit:r,slots:l,attrs:a,proxy:i}=J(),{$q:o}=i;let n=null;e.hasValue===void 0&&(e.hasValue=s(()=>dt(t.modelValue))),e.emitValue===void 0&&(e.emitValue=q=>{r("update:modelValue",q)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:g,onFocusout:h}),Object.assign(e,{clearValue:z,onControlFocusin:g,onControlFocusout:h,focus:$}),e.computedCounter===void 0&&(e.computedCounter=s(()=>{if(t.counter!==!1){const q=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,D=t.maxlength!==void 0?t.maxlength:t.maxValues;return q+(D!==void 0?" / "+D:"")}}));const{isDirtyModel:v,hasRules:f,hasError:c,errorMessage:y,resetValidation:M}=fn(e.focused,e.innerLoading),m=e.floatingLabel!==void 0?s(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):s(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),S=s(()=>t.bottomSlots===!0||t.hint!==void 0||f.value===!0||t.counter===!0||t.error!==null),O=s(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),B=s(()=>`q-field row no-wrap items-start q-field--${O.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(m.value===!0?" q-field--float":"")+(T.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(c.value===!0?" q-field--error":"")+(c.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&S.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),N=s(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(c.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),T=s(()=>t.labelSlot===!0||t.label!==void 0),A=s(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&c.value!==!0?` text-${t.labelColor}`:"")),H=s(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:m.value,modelValue:t.modelValue,emitValue:e.emitValue})),w=s(()=>{const q={};return e.targetUid.value&&(q.for=e.targetUid.value),t.disable===!0&&(q["aria-disabled"]="true"),q});function P(){const q=document.activeElement;let D=e.targetRef!==void 0&&e.targetRef.value;D&&(q===null||q.id!==e.targetUid.value)&&(D.hasAttribute("tabindex")===!0||(D=D.querySelector("[tabindex]")),D&&D!==q&&D.focus({preventScroll:!0}))}function $(){ma(P)}function R(){bl(P);const q=document.activeElement;q!==null&&e.rootRef.value.contains(q)&&q.blur()}function g(q){n!==null&&(clearTimeout(n),n=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,r("focus",q))}function h(q,D){n!==null&&clearTimeout(n),n=setTimeout(()=>{n=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,r("blur",q)),D!==void 0&&D())})}function z(q){Se(q),o.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),r("update:modelValue",null),e.changeEvent===!0&&r("change",null),r("clear",t.modelValue),oe(()=>{const D=v.value;M(),v.value=D})}function k(q){[13,32].includes(q.keyCode)&&z(q)}function F(){const q=[];return l.prepend!==void 0&&q.push(C("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:pe},l.prepend())),q.push(C("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},u())),c.value===!0&&t.noErrorIcon===!1&&q.push(_("error",[C(Be,{name:o.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?q.push(_("inner-loading-append",l.loading!==void 0?l.loading():[C(ul,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&q.push(_("inner-clearable-append",[C(Be,{class:"q-field__focusable-action",name:t.clearIcon||o.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":o.lang.label.clear,onKeyup:k,onClick:z})])),l.append!==void 0&&q.push(C("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:pe},l.append())),e.getInnerAppend!==void 0&&q.push(_("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&q.push(e.getControlChild()),q}function u(){const q=[];return t.prefix!==void 0&&t.prefix!==null&&q.push(C("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&q.push(e.getShadowControl()),e.getControl!==void 0?q.push(e.getControl()):l.rawControl!==void 0?q.push(l.rawControl()):l.control!==void 0&&q.push(C("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},l.control(H.value))),T.value===!0&&q.push(C("div",{class:A.value},he(l.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&q.push(C("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),q.concat(he(l.default))}function p(){let q,D;c.value===!0?y.value!==null?(q=[C("div",{role:"alert"},y.value)],D=`q--slot-error-${y.value}`):(q=he(l.error),D="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(q=[C("div",t.hint)],D=`q--slot-hint-${t.hint}`):(q=he(l.hint),D="q--slot-hint"));const d=t.counter===!0||l.counter!==void 0;if(t.hideBottomSpace===!0&&d===!1&&q===void 0)return;const E=C("div",{key:D,class:"q-field__messages col"},q);return C("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:pe},[t.hideBottomSpace===!0?E:C(mt,{name:"q-transition--field-message"},()=>E),d===!0?C("div",{class:"q-field__counter"},l.counter!==void 0?l.counter():e.computedCounter.value):null])}function _(q,D){return D===null?null:C("div",{key:q,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},D)}let L=!1;return ft(()=>{L=!0}),la(()=>{L===!0&&t.autofocus===!0&&i.focus()}),t.autofocus===!0&&ce(()=>{i.focus()}),ne(()=>{n!==null&&clearTimeout(n)}),Object.assign(i,{focus:$,blur:R}),function(){const D=e.getControl===void 0&&l.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...w.value}:w.value;return C(e.tag.value,{ref:e.rootRef,class:[B.value,a.class],style:a.style,...D},[l.before!==void 0?C("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:pe},l.before()):null,C("div",{class:"q-field__inner relative-position col self-stretch"},[C("div",{ref:e.controlRef,class:N.value,tabindex:-1,...e.controlEvents},F()),S.value===!0?p():null]),l.after!==void 0?C("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:pe},l.after()):null])}}const Gt={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Oe={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},ba=Object.keys(Oe);ba.forEach(e=>{Oe[e].regex=new RegExp(Oe[e].pattern)});const yn=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+ba.join("")+"])|(.)","g"),Jt=/[.*+?^${}()|[\]\\]/g,Z="",kn={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function xn(e,t,r,l){let a,i,o,n,v,f;const c=V(null),y=V(m());function M(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}W(()=>e.type+e.autogrow,O),W(()=>e.mask,g=>{if(g!==void 0)B(y.value,!0);else{const h=$(y.value);O(),e.modelValue!==h&&t("update:modelValue",h)}}),W(()=>e.fillMask+e.reverseFillMask,()=>{c.value===!0&&B(y.value,!0)}),W(()=>e.unmaskedValue,()=>{c.value===!0&&B(y.value)});function m(){if(O(),c.value===!0){const g=w($(e.modelValue));return e.fillMask!==!1?R(g):g}return e.modelValue}function S(g){if(g<a.length)return a.slice(-g);let h="",z=a;const k=z.indexOf(Z);if(k!==-1){for(let F=g-z.length;F>0;F--)h+=Z;z=z.slice(0,k)+h+z.slice(k)}return z}function O(){if(c.value=e.mask!==void 0&&e.mask.length!==0&&M(),c.value===!1){n=void 0,a="",i="";return}const g=Gt[e.mask]===void 0?e.mask:Gt[e.mask],h=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",z=h.replace(Jt,"\\$&"),k=[],F=[],u=[];let p=e.reverseFillMask===!0,_="",L="";g.replace(yn,(E,b,I,te,U)=>{if(te!==void 0){const Y=Oe[te];u.push(Y),L=Y.negate,p===!0&&(F.push("(?:"+L+"+)?("+Y.pattern+"+)?(?:"+L+"+)?("+Y.pattern+"+)?"),p=!1),F.push("(?:"+L+"+)?("+Y.pattern+")?")}else if(I!==void 0)_="\\"+(I==="\\"?"":I),u.push(I),k.push("([^"+_+"]+)?"+_+"?");else{const Y=b!==void 0?b:U;_=Y==="\\"?"\\\\\\\\":Y.replace(Jt,"\\\\$&"),u.push(Y),k.push("([^"+_+"]+)?"+_+"?")}});const q=new RegExp("^"+k.join("")+"("+(_===""?".":"[^"+_+"]")+"+)?"+(_===""?"":"["+_+"]*")+"$"),D=F.length-1,d=F.map((E,b)=>b===0&&e.reverseFillMask===!0?new RegExp("^"+z+"*"+E):b===D?new RegExp("^"+E+"("+(L===""?".":L)+"+)?"+(e.reverseFillMask===!0?"$":z+"*")):new RegExp("^"+E));o=u,n=E=>{const b=q.exec(e.reverseFillMask===!0?E:E.slice(0,u.length+1));b!==null&&(E=b.slice(1).join(""));const I=[],te=d.length;for(let U=0,Y=E;U<te;U++){const de=d[U].exec(Y);if(de===null)break;Y=Y.slice(de.shift().length),I.push(...de)}return I.length!==0?I.join(""):E},a=u.map(E=>typeof E=="string"?E:Z).join(""),i=a.split(Z).join(h)}function B(g,h,z){const k=l.value,F=k.selectionEnd,u=k.value.length-F,p=$(g);h===!0&&O();const _=w(p),L=e.fillMask!==!1?R(_):_,q=y.value!==L;k.value!==L&&(k.value=L),q===!0&&(y.value=L),document.activeElement===k&&oe(()=>{if(L===i){const d=e.reverseFillMask===!0?i.length:0;k.setSelectionRange(d,d,"forward");return}if(z==="insertFromPaste"&&e.reverseFillMask!==!0){const d=k.selectionEnd;let E=F-1;for(let b=v;b<=E&&b<d;b++)a[b]!==Z&&E++;T.right(k,E);return}if(["deleteContentBackward","deleteContentForward"].indexOf(z)!==-1){const d=e.reverseFillMask===!0?F===0?L.length>_.length?1:0:Math.max(0,L.length-(L===i?0:Math.min(_.length,u)+1))+1:F;k.setSelectionRange(d,d,"forward");return}if(e.reverseFillMask===!0)if(q===!0){const d=Math.max(0,L.length-(L===i?0:Math.min(_.length,u+1)));d===1&&F===1?k.setSelectionRange(d,d,"forward"):T.rightReverse(k,d)}else{const d=L.length-u;k.setSelectionRange(d,d,"backward")}else if(q===!0){const d=Math.max(0,a.indexOf(Z),Math.min(_.length,F)-1);T.right(k,d)}else{const d=F-1;T.right(k,d)}});const D=e.unmaskedValue===!0?$(L):L;String(e.modelValue)!==D&&(e.modelValue!==null||D!=="")&&r(D,!0)}function N(g,h,z){const k=w($(g.value));h=Math.max(0,a.indexOf(Z),Math.min(k.length,h)),v=h,g.setSelectionRange(h,z,"forward")}const T={left(g,h){const z=a.slice(h-1).indexOf(Z)===-1;let k=Math.max(0,h-1);for(;k>=0;k--)if(a[k]===Z){h=k,z===!0&&h++;break}if(k<0&&a[h]!==void 0&&a[h]!==Z)return T.right(g,0);h>=0&&g.setSelectionRange(h,h,"backward")},right(g,h){const z=g.value.length;let k=Math.min(z,h+1);for(;k<=z;k++)if(a[k]===Z){h=k;break}else a[k-1]===Z&&(h=k);if(k>z&&a[h-1]!==void 0&&a[h-1]!==Z)return T.left(g,z);g.setSelectionRange(h,h,"forward")},leftReverse(g,h){const z=S(g.value.length);let k=Math.max(0,h-1);for(;k>=0;k--)if(z[k-1]===Z){h=k;break}else if(z[k]===Z&&(h=k,k===0))break;if(k<0&&z[h]!==void 0&&z[h]!==Z)return T.rightReverse(g,0);h>=0&&g.setSelectionRange(h,h,"backward")},rightReverse(g,h){const z=g.value.length,k=S(z),F=k.slice(0,h+1).indexOf(Z)===-1;let u=Math.min(z,h+1);for(;u<=z;u++)if(k[u-1]===Z){h=u,h>0&&F===!0&&h--;break}if(u>z&&k[h-1]!==void 0&&k[h-1]!==Z)return T.leftReverse(g,z);g.setSelectionRange(h,h,"forward")}};function A(g){t("click",g),f=void 0}function H(g){if(t("keydown",g),Ka(g)===!0||g.altKey===!0)return;const h=l.value,z=h.selectionStart,k=h.selectionEnd;if(g.shiftKey||(f=void 0),g.keyCode===37||g.keyCode===39){g.shiftKey&&f===void 0&&(f=h.selectionDirection==="forward"?z:k);const F=T[(g.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(g.preventDefault(),F(h,f===z?k:z),g.shiftKey){const u=h.selectionStart;h.setSelectionRange(Math.min(f,u),Math.max(f,u),"forward")}}else g.keyCode===8&&e.reverseFillMask!==!0&&z===k?(T.left(h,z),h.setSelectionRange(h.selectionStart,k,"backward")):g.keyCode===46&&e.reverseFillMask===!0&&z===k&&(T.rightReverse(h,k),h.setSelectionRange(z,h.selectionEnd,"forward"))}function w(g){if(g==null||g==="")return"";if(e.reverseFillMask===!0)return P(g);const h=o;let z=0,k="";for(let F=0;F<h.length;F++){const u=g[z],p=h[F];if(typeof p=="string")k+=p,u===p&&z++;else if(u!==void 0&&p.regex.test(u))k+=p.transform!==void 0?p.transform(u):u,z++;else return k}return k}function P(g){const h=o,z=a.indexOf(Z);let k=g.length-1,F="";for(let u=h.length-1;u>=0&&k!==-1;u--){const p=h[u];let _=g[k];if(typeof p=="string")F=p+F,_===p&&k--;else if(_!==void 0&&p.regex.test(_))do F=(p.transform!==void 0?p.transform(_):_)+F,k--,_=g[k];while(z===u&&_!==void 0&&p.regex.test(_));else return F}return F}function $(g){return typeof g!="string"||n===void 0?typeof g=="number"?n(""+g):g:n(g)}function R(g){return i.length-g.length<=0?g:e.reverseFillMask===!0&&g.length!==0?i.slice(0,-g.length)+g:g+i.slice(g.length)}return{innerValue:y,hasMask:c,moveCursorForPaste:N,updateMaskValue:B,onMaskedKeydown:H,onMaskedClick:A}}function wn(e,t){function r(){const l=e.modelValue;try{const a="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(l)===l&&("length"in l?Array.from(l):[l]).forEach(i=>{a.items.add(i)}),{files:a.files}}catch{return{files:void 0}}}return s(()=>{if(e.type==="file")return r()})}function Cn(e){return function(r){if(r.type==="compositionend"||r.type==="change"){if(r.target.qComposing!==!0)return;r.target.qComposing=!1,e(r)}else r.type==="compositionstart"&&(r.target.qComposing=!0)}}const Sn=se({name:"QInput",inheritAttrs:!1,props:{...hn,...kn,...sa,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...gn,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:r}){const{proxy:l}=J(),{$q:a}=l,i={};let o=NaN,n,v,f=null,c;const y=V(null),M=Ga(e),{innerValue:m,hasMask:S,moveCursorForPaste:O,updateMaskValue:B,onMaskedKeydown:N,onMaskedClick:T}=xn(e,t,_,y),A=wn(e),H=s(()=>dt(m.value)),w=Cn(u),P=pn({changeEvent:!0}),$=s(()=>e.type==="textarea"||e.autogrow===!0),R=s(()=>$.value===!0||["text","search","url","tel","password"].includes(e.type)),g=s(()=>{const b={...P.splitAttrs.listeners.value,onInput:u,onPaste:F,onChange:q,onBlur:D,onFocus:qt};return b.onCompositionstart=b.onCompositionupdate=b.onCompositionend=w,S.value===!0&&(b.onKeydown=N,b.onClick=T),e.autogrow===!0&&(b.onAnimationend=p),b}),h=s(()=>{const b={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:M.value,...P.splitAttrs.attributes.value,id:P.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return $.value===!1&&(b.type=e.type),e.autogrow===!0&&(b.rows=1),b});W(()=>e.type,()=>{y.value&&(y.value.value=e.modelValue)}),W(()=>e.modelValue,b=>{if(S.value===!0){if(v===!0&&(v=!1,String(b)===o))return;B(b)}else m.value!==b&&(m.value=b,e.type==="number"&&i.hasOwnProperty("value")===!0&&(n===!0?n=!1:delete i.value));e.autogrow===!0&&oe(L)}),W(()=>e.autogrow,b=>{b===!0?oe(L):y.value!==null&&r.rows>0&&(y.value.style.height="auto")}),W(()=>e.dense,()=>{e.autogrow===!0&&oe(L)});function z(){ma(()=>{const b=document.activeElement;y.value!==null&&y.value!==b&&(b===null||b.id!==P.targetUid.value)&&y.value.focus({preventScroll:!0})})}function k(){y.value!==null&&y.value.select()}function F(b){if(S.value===!0&&e.reverseFillMask!==!0){const I=b.target;O(I,I.selectionStart,I.selectionEnd)}t("paste",b)}function u(b){if(!b||!b.target)return;if(e.type==="file"){t("update:modelValue",b.target.files);return}const I=b.target.value;if(b.target.qComposing===!0){i.value=I;return}if(S.value===!0)B(I,!1,b.inputType);else if(_(I),R.value===!0&&b.target===document.activeElement){const{selectionStart:te,selectionEnd:U}=b.target;te!==void 0&&U!==void 0&&oe(()=>{b.target===document.activeElement&&I.indexOf(b.target.value)===0&&b.target.setSelectionRange(te,U)})}e.autogrow===!0&&L()}function p(b){t("animationend",b),L()}function _(b,I){c=()=>{f=null,e.type!=="number"&&i.hasOwnProperty("value")===!0&&delete i.value,e.modelValue!==b&&o!==b&&(o=b,I===!0&&(v=!0),t("update:modelValue",b),oe(()=>{o===b&&(o=NaN)})),c=void 0},e.type==="number"&&(n=!0,i.value=b),e.debounce!==void 0?(f!==null&&clearTimeout(f),i.value=b,f=setTimeout(c,e.debounce)):c()}function L(){requestAnimationFrame(()=>{const b=y.value;if(b!==null){const I=b.parentNode.style,{scrollTop:te}=b,{overflowY:U,maxHeight:Y}=a.platform.is.firefox===!0?{}:window.getComputedStyle(b),de=U!==void 0&&U!=="scroll";de===!0&&(b.style.overflowY="hidden"),I.marginBottom=b.scrollHeight-1+"px",b.style.height="1px",b.style.height=b.scrollHeight+"px",de===!0&&(b.style.overflowY=parseInt(Y,10)<b.scrollHeight?"auto":"hidden"),I.marginBottom="",b.scrollTop=te}})}function q(b){w(b),f!==null&&(clearTimeout(f),f=null),c!==void 0&&c(),t("change",b.target.value)}function D(b){b!==void 0&&qt(b),f!==null&&(clearTimeout(f),f=null),c!==void 0&&c(),n=!1,v=!1,delete i.value,e.type!=="file"&&setTimeout(()=>{y.value!==null&&(y.value.value=m.value!==void 0?m.value:"")})}function d(){return i.hasOwnProperty("value")===!0?i.value:m.value!==void 0?m.value:""}ne(()=>{D()}),ce(()=>{e.autogrow===!0&&L()}),Object.assign(P,{innerValue:m,fieldClass:s(()=>`q-${$.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:s(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:y,emitValue:_,hasValue:H,floatingLabel:s(()=>H.value===!0&&(e.type!=="number"||isNaN(m.value)===!1)||dt(e.displayValue)),getControl:()=>C($.value===!0?"textarea":"input",{ref:y,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...h.value,...g.value,...e.type!=="file"?{value:d()}:A.value}),getShadowControl:()=>C("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+($.value===!0?"":" text-no-wrap")},[C("span",{class:"invisible"},d()),C("span",e.shadowText)])});const E=bn(P);return Object.assign(l,{focus:z,select:k,getNativeElement:()=>y.value}),vt(l,"nativeEl",()=>y.value),E}});function $e(e){return e.mapping!==void 0}const ke=(e,t=!1,r=!1)=>({type:t?"multiOptions":"options",content:e,disableChat:r});function qe(e){return{property:e,type:"single"}}function ea(e,t="all"){return{property:e,type:t}}function _n(){const e=V(null);return{notification:e,showNotification:(l,a)=>{e.value={type:l,message:a}},hideNotification:()=>{e.value=null}}}function Mn(){function e(r,l){console.log(`[Analytics] Event: ${r}`,l)}function t(r,l){console.log(`[Analytics] Page View: ${r}`,l)}return{trackEvent:e,trackPageView:t}}function qn(e){return e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}const ya=Ua("chat",()=>{const{t:e}=cl(),t=Ja(),{showNotification:r}=_n(),{trackEvent:l}=Mn(),a=200,i=50,o={servings:qe(2),recipeType:qe(""),dietaryRestrictions:ea([],"all"),cookingTime:qe(30),skillLevel:qe("Beginner"),cuisine:qe(""),tags:ea([],"all")},n=V([]),v=V({...o}),f=V("start"),c=V(!1),y=V(""),M=V(""),m=V(null),S=V([]),O=V(!1),B=V([]),N=V([]),T=V([]),A=s(()=>{const d=v.value;return[e("search.servings",{count:d.servings.property}),e("search.recipeType",{type:d.recipeType.property.toLowerCase()}),e("search.cookingTime",{time:d.cookingTime.property}),e("search.cuisine",{cuisine:d.cuisine.property})].join(", ")}),H=s(()=>[...N.value.map(d=>typeof d=="string"?d:d.label),...T.value]);W(n,d=>{d.length>i&&(n.value=d.slice(-i))}),W(y,d=>{if(d.trim()===""){M.value="";return}const E=d.toLowerCase(),b=H.value.find(I=>I.toLowerCase().startsWith(E));b?M.value=b:M.value=""});const w=()=>oe(()=>{if(m.value){const d=m.value.getScrollTarget(),E=O.value?0:a-100;m.value.setScrollPosition("vertical",d.scrollHeight,E)}}),P=async(d,E="Kiwi")=>new Promise(b=>{c.value=d.disableChat||!1,setTimeout(()=>{const I={id:n.value.length+1,sender:E,sent:E==="You",timestamp:qn(new Date),...d};n.value.push(I),d.type==="options"&&(N.value=d.content),w(),b()},E==="You"?0:a)}),$=async(d=1e3)=>{O.value=!0,await new Promise(E=>{setTimeout(E,d)}),O.value=!1},R={ask:async(d,E)=>{await P({type:"text",content:d}),await P(E)},askStartOptions:()=>R.ask("Was möchtest du tun?",ke([{label:e("chat.optionFindRecipe"),mapping:()=>{f.value="askServings",R.askServings()}},{label:e("chat.optionGenerateWeeklyPlan"),mapping:()=>{f.value="generateWeeklyPlan",R.generateWeekplan()}}],!1,!0)),askServings:()=>R.ask(e("chat.servings"),ke([{label:e("servings.1"),mapping:1},{label:e("servings.2"),mapping:2},{label:e("servings.3"),mapping:3},{label:e("servings.4"),mapping:4},{label:e("servings.5plus"),mapping:"5plus"}])),askRecipeType:()=>R.ask(e("chat.recipeType"),ke([e("recipeType.quick"),e("recipeType.healthy"),e("recipeType.comfort"),e("recipeType.gourmet"),e("recipeType.budget")],!0,!1)),askDietaryRestrictions:()=>R.ask(e("chat.dietaryRestrictions"),ke([e("dietary.vegetarian"),e("dietary.vegan"),e("dietary.glutenFree"),e("dietary.dairyFree"),e("dietary.lowCarb"),e("dietary.none")])),askCookingTime:()=>P({type:"slider",content:{label:e("chat.cookingTime"),value:30,min:15,max:120,step:15,unit:e("chat.minutes")},disableChat:!0}),askCuisine:()=>R.ask(e("chat.cuisine"),ke([e("cuisine.italian"),e("cuisine.mexican"),e("cuisine.asian"),e("cuisine.mediterranean"),e("cuisine.american"),e("cuisine.surprise")])),generateWeekplan:()=>R.ask("Wie viele Rezepte möchtest du für die Woche planen?",ke(["3","5","7"])),resetChat:async()=>{n.value=[],v.value={...o},f.value="start",B.value=[],await P({type:"text",content:e("chat.reset")}),await R.askStartOptions(),l("chat_reset")},searchRecipes:async()=>{f.value="searching",await P({type:"text",content:e("search.searching",{preferences:A.value})});try{await $();const d=await t.searchByPreferences(v.value);B.value=d,T.value=d.map(E=>it(E.name)),f.value="displayingResults",d.length===0?(await P({type:"text",content:e("search.noResults")}),await P({type:"options",content:[{label:e("search.startOver"),mapping:()=>R.resetChat()}]})):(await P({type:"text",content:e("search.results")}),await P({type:"recipe",content:d}),await P({type:"options",content:[e("search.moreOptions"),e("search.startCooking"),e("search.newSearch")]})),l("recipes_searched",{count:d.length})}catch(d){console.error("Error searching recipes:",d),await P({type:"text",content:e("search.error")}),r("error",e("search.errorNotification")),f.value="start"}}},g={start:async()=>{},generateWeeklyPlan:async()=>{},askServings:async d=>{v.value.servings.property=parseInt(d,10),f.value="askRecipeType",await R.askRecipeType()},askRecipeType:async d=>{v.value.recipeType.property=d,f.value="askDietaryRestrictions",await R.askDietaryRestrictions()},askDietaryRestrictions:async d=>{v.value.dietaryRestrictions.property=d.split(",").map(E=>E.trim()),f.value="askCookingTime",await R.askCookingTime()},askCookingTime:async()=>{},cuisine:async d=>{v.value.cuisine.property=d,await R.searchRecipes()},searching:async()=>{},displayingResults:async d=>{d.toLowerCase()===e("search.moreOptions").toLowerCase()?await R.askCuisine():d.toLowerCase()===e("search.startCooking").toLowerCase()?(await P({type:"text",content:e("search.enjoyYourMeal")}),f.value="start"):d.toLowerCase()===e("search.newSearch").toLowerCase()&&await R.resetChat()},displayMoreResults:async()=>{await R.searchRecipes()},startingOver:async()=>{await R.resetChat()}},h=async d=>{const E=g[f.value];console.log("kiwiMessageState:",f.value),E?await E(d):console.error(`No handler for state: ${f.value}`)},z=async d=>{v.value.cookingTime.property=d,f.value="cuisine",await R.askCuisine()},k=async d=>{d.trim()&&(M.value&&d.endsWith("	")&&(d=M.value,y.value=d),await P({type:"text",content:d},"You"),await h(d),l("user_message_sent"),M.value="")},F=async(d=y.value)=>{y.value="",await k(d)},u=async(d,E)=>{if($e(d)&&typeof d.mapping=="function"){await k(d.label),d.mapping();return}const b=$e(d)?d.mapping.toString():d,I=$e(d)?d.label:d;E==="multiOptions"?(y.value=y.value.includes(I)?y.value.replace(I,"").trim():`${y.value} ${I}`.trim(),console.log("newInput.value:",y.value)):await k(b)},p=()=>{const d={timestamp:new Date().toISOString(),messages:n.value,preferences:v.value};S.value.push(d),localStorage.setItem("chatHistory",JSON.stringify(S.value))},_=d=>{if(d>=0&&d<S.value.length){const E=S.value[d];n.value=E.messages,v.value=E.preferences,f.value="displayingResults"}},L=()=>{const d={messages:n.value,preferences:v.value,timestamp:new Date().toISOString()},E=new Blob([JSON.stringify(d,null,2)],{type:"application/json"}),b=URL.createObjectURL(E),I=document.createElement("a");I.href=b,I.download=`chat_export_${new Date().toISOString()}.json`,I.click(),URL.revokeObjectURL(b)},q=d=>{const E=new FileReader;E.onload=b=>{try{const I=JSON.parse(b.target?.result);n.value=I.messages,v.value=I.preferences,f.value="displayingResults",r("success",e("chat.importSuccess"))}catch(I){console.error("Error importing chat:",I),r("error",e("chat.importError"))}},E.readAsText(d)},D=(d,E)=>{v.value[d].property=E};return ce(async()=>{T.value=t.recipes.slice(0,5).map(d=>it(d.name)),await P({type:"text",content:e("chat.welcome")}),await R.askStartOptions()}),{messages:n,userPreferences:v,kiwiMessageState:f,isChatDisabled:c,newInput:y,shadowInput:M,scrollArea:m,isTyping:O,currentRecipes:B,chatHistory:S,preferencesSummary:A,handleTextInput:F,handleOptionClick:u,handleSliderInput:z,saveChat:p,loadChat:_,exportChat:L,importChat:q,updatePreference:D}}),Tn=oa({__name:"KiwiChatBox",props:{modelValue:{default:""},modelModifiers:{}},emits:["update:modelValue"],setup(e,{expose:t}){t();const r=pa(),l=s(()=>r.dark.isActive),a=ya(),{newInput:i,shadowInput:o}=ra(a),{handleTextInput:n}=a,v=Ya(e,"modelValue"),f=V(!1),c=s(()=>{if(f.value)return"";const m=o.value;return v.value.length===0?m:m.indexOf(v.value)!==0?"":m.split(v.value).slice(1).join(v.value)});W(i,()=>{v.value=i.value});function y(m){if(m instanceof KeyboardEvent)switch(i.value=v.value,m.key){case"Escape":f.value||(f.value=!0);break;case"Enter":n(),v.value="";break;case"Tab":!f.value&&c.value.length>0&&(m.preventDefault(),v.value+=c.value);break;default:f.value&&(f.value=!1)}}const M={$q:r,isDark:l,chat:a,newInput:i,shadowInput:o,handleTextInput:n,modelValue:v,inputFillCancelled:f,inputShadowText:c,processInputFill:y};return Object.defineProperty(M,"__isScriptSetup",{enumerable:!1,value:!0}),M}});function zn(e,t,r,l,a,i){return ae(),we(Sn,{modelValue:l.modelValue,"onUpdate:modelValue":t[1]||(t[1]=o=>l.modelValue=o),dark:l.isDark,filled:"",color:l.isDark?"kiwi-light":"kiwi-dark","bg-color":l.isDark?"kiwi-dark-accent":"kiwi-light-accent","label-color":l.isDark?"kiwi-light":"kiwi-dark","text-color":l.isDark?"white":"black",label:e.$t("chatbox.label"),"shadow-text":l.inputShadowText,onKeydown:l.processInputFill,onFocus:l.processInputFill,class:"kiwi-chat-input"},{append:le(()=>[X(ue,{round:"",dense:"",flat:"",icon:"send",disable:l.modelValue.length===0,color:l.modelValue.length===0||l.isDark?"kiwi-light":"kiwi-green",onClick:t[0]||(t[0]=()=>l.handleTextInput())},null,8,["disable","color"])]),_:1},8,["modelValue","dark","color","bg-color","label-color","text-color","label","shadow-text"])}const Pn=ia(Tn,[["render",zn],["__file","KiwiChatBox.vue"]]),Rn=oa({__name:"IndexPage",setup(e,{expose:t}){t();const r=pa(),l=V(r.dark.isActive),a=ya(),{messages:i,scrollArea:o,isChatDisabled:n}=ra(a),{handleSliderInput:v,handleOptionClick:f}=a,c=V(null),m={$q:r,isDark:l,chat:a,messages:i,scrollArea:o,isChatDisabled:n,handleSliderInput:v,handleOptionClick:f,activeSlide:c,openGithub:()=>window.open("https://github.com/kiwi-cook/kiwi-cook"),toggleDarkMode:()=>{r.dark.toggle(),l.value=r.dark.isActive},KiwiChatBox:Pn,get getTranslation(){return it},get isMessageOption(){return $e}};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}}),Vn={class:"chat-container q-pa-md"},An={class:"chat-messages-wrapper"},$n=["innerHTML"],En={class:"row fit justify-start items-center q-gutter-xs q-col-gutter no-wrap"},Bn={class:"col-7"},Fn={class:"row q-col-gutter-sm q-mt-sm"},In={class:"col-6"},On={class:"col-6"},Ln={key:3,class:"options-list q-gutter-x-sm q-gutter-y-xs"},Dn={key:4,class:"slider-container q-pa-md"},Hn={class:"text-subtitle1 q-mb-sm"},Nn={class:"row items-center justify-between q-mt-sm"},jn={class:"text-body2 text-weight-medium"},Wn={key:0,class:"input-area q-pa-md"};function Qn(e,t,r,l,a,i){return ae(),we(el,{class:Pe([{"bg-kiwi-light":!l.isDark,"bg-kiwi-dark":l.isDark},"chat-page"])},{default:le(()=>[X(ue,{round:"",size:"md",color:l.isDark?"accent":"kiwi-dark","text-color":l.isDark?"kiwi-dark":"white",icon:l.isDark?"wb_sunny":"nightlight_round",class:"fixed-top-right q-ma-md mode-toggle",onClick:l.toggleDarkMode},{default:le(()=>[X(Lt,null,{default:le(()=>[_e(ge(l.isDark?"Switch to Light Mode":"Switch to Dark Mode"),1)]),_:1})]),_:1},8,["color","text-color","icon"]),re("div",Vn,[X(ln,{class:"chat-scroll",ref:"scrollArea"},{default:le(()=>[re("div",An,[(ae(!0),fe(Xe,null,Ze(l.messages,o=>(ae(),fe("div",{key:o.id},[X(tn,{"bg-color":o.sent?"secondary":"transparent",name:o.sender,sent:o.sent,stamp:o.timestamp,"text-color":o.sent?"white":l.isDark?"grey-3":"grey-9",class:Pe(["chat-bubble",{"kiwi-bubble":!o.sent,"user-bubble":o.sent}])},{default:le(()=>[o.type==="text"?(ae(),fe("div",{key:0,innerHTML:o.content,class:"chat-text"},null,8,$n)):o.type==="image"?(ae(),we(Rt,{key:1,src:o.content,class:"chat-image",alt:"Chat image"},null,8,["src"])):o.type==="recipe"?(ae(),we(Kl,{key:2,modelValue:l.activeSlide,"onUpdate:modelValue":t[0]||(t[0]=n=>l.activeSlide=n),"transition-prev":"slide-right","transition-next":"slide-left",swipeable:"",animated:"","control-color":"primary",navigation:"",padding:"",arrows:"",height:"400px",class:"bg-grey-1 shadow-2 rounded-borders"},{default:le(()=>[(ae(!0),fe(Xe,null,Ze(o.content,n=>(ae(),we(Dl,{key:n.id,name:n.id,class:"column no-wrap"},{default:le(()=>[re("div",En,[X(Rt,{class:"rounded-borders col-5",src:n.image_url,alt:l.getTranslation(n.name)},{loading:le(()=>[X(Al,{color:"primary"})]),_:2},1032,["src","alt"]),re("div",Bn,[re("div",{class:Pe(["text-h6 ellipsis-2-lines",{"text-white":l.isDark}])},ge(l.getTranslation(n.name)),3),re("div",Fn,[re("div",In,[X(Be,{name:"schedule",color:"primary",size:"xs"}),_e(" "+ge(n.duration)+" min ",1)]),re("div",On,[X(Be,{name:"fitness_center",color:"primary",size:"xs"}),_e(" "+ge(n.difficulty.charAt(0).toUpperCase()+n.difficulty.slice(1)),1)])]),X(ue,{flat:"",color:"primary",class:"q-mt-md",to:`/recipe/${n.id}`},{default:le(()=>t[1]||(t[1]=[_e("View Recipe")])),_:2},1032,["to"])])])]),_:2},1032,["name"]))),128))]),_:2},1032,["modelValue"])):o.type==="options"||o.type==="multiOptions"?(ae(),fe("div",Ln,[(ae(!0),fe(Xe,null,Ze(o.content,(n,v)=>(ae(),we(ue,{key:v,label:l.isMessageOption(n)?n.label:n,class:"option-button",unelevated:"",rounded:"",ripple:!1,onClick:f=>l.handleOptionClick(n,o.type)},null,8,["label","onClick"]))),128))])):o.type==="slider"?(ae(),fe("div",Dn,[re("div",Hn,ge(o.content.label),1),X(en,{modelValue:o.content.value,"onUpdate:modelValue":n=>o.content.value=n,min:o.content.min,max:o.content.max,step:o.content.step,label:"",color:"primary","label-always":l.$q.screen.lt.sm,"aria-label":"Slider"},null,8,["modelValue","onUpdate:modelValue","min","max","step","label-always"]),re("div",Nn,[re("div",jn,ge(o.content.value)+" "+ge(o.content.unit),1),X(ue,{color:"primary",icon:"send",round:"",dense:"",onClick:n=>l.handleSliderInput(o.content.value)},null,8,["onClick"])])])):Tt("",!0)]),_:2},1032,["bg-color","name","sent","stamp","text-color","class"])]))),128))])]),_:1},512)]),l.isChatDisabled?Tt("",!0):(ae(),fe("div",Wn,[X(l.KiwiChatBox)])),X(nn,{class:Pe([{"bg-primary":!l.isDark,"bg-kiwi-dark":l.isDark},"footer"])},{default:le(()=>[X(ll,null,{default:le(()=>[X(ue,{flat:"","text-color":l.isDark?"white":"kiwi-dark",icon:"mdi-github",onClick:l.openGithub},{default:le(()=>[X(Lt,null,{default:le(()=>t[2]||(t[2]=[_e("Visit our GitHub")])),_:1})]),_:1},8,["text-color"])]),_:1})]),_:1},8,["class"])]),_:1},8,["class"])}const lo=ia(Rn,[["render",Qn],["__file","IndexPage.vue"]]);export{lo as default};
