import{Q as k,a as N,b as j,c as K}from"./QScrollObserver-BZDrValU.js";import{Q as U}from"./QAvatar-DyomPkvA.js";import{c as T,i as W,e as z,l as F,r as p,a as i,w as x,o as E,h,g as O,p as I,d as A,f as D,j as C,k as G,m as J,_ as X,n as Y,q as Z,s as ee,t as S,u as _,v as q}from"./index-Bdlm1ZtJ.js";import{h as te,a as oe,b as ne}from"./dom-jY1HDJzH.js";import{g as B}from"./scroll-GPeo8u1N.js";import"./QSpinner-CiPhgIn4.js";const ae=T({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:c,emit:r}){const{proxy:{$q:a}}=O(),n=W(F,z);if(n===z)return console.error("QHeader needs to be child of QLayout"),z;const l=p(parseInt(e.heightHint,10)),s=p(!0),y=i(()=>e.reveal===!0||n.view.value.indexOf("H")!==-1||a.platform.is.ios&&n.isContainer.value===!0),b=i(()=>{if(e.modelValue!==!0)return 0;if(y.value===!0)return s.value===!0?l.value:0;const t=l.value-n.scroll.value.position;return t>0?t:0}),d=i(()=>e.modelValue!==!0||y.value===!0&&s.value!==!0),L=i(()=>e.modelValue===!0&&d.value===!0&&e.reveal===!0),Q=i(()=>"q-header q-layout__section--marginal "+(y.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(d.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),H=i(()=>{const t=n.rows.value.top,v={};return t[0]==="l"&&n.left.space===!0&&(v[a.lang.rtl===!0?"right":"left"]=`${n.left.size}px`),t[2]==="r"&&n.right.space===!0&&(v[a.lang.rtl===!0?"left":"right"]=`${n.right.size}px`),v});function f(t,v){n.update("header",t,v)}function w(t,v){t.value!==v&&(t.value=v)}function R({height:t}){w(l,t),f("size",t)}function P(t){L.value===!0&&w(s,!0),r("focusin",t)}x(()=>e.modelValue,t=>{f("space",t),w(s,!0),n.animate()}),x(b,t=>{f("offset",t)}),x(()=>e.reveal,t=>{t===!1&&w(s,e.modelValue)}),x(s,t=>{n.animate(),r("reveal",t)}),x(n.scroll,t=>{e.reveal===!0&&w(s,t.direction==="up"||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)});const $={};return n.instances.header=$,e.modelValue===!0&&f("size",l.value),f("space",e.modelValue),f("offset",b.value),E(()=>{n.instances.header===$&&(n.instances.header=void 0,f("size",0),f("offset",0),f("space",!1))}),()=>{const t=te(c.default,[]);return e.elevated===!0&&t.push(h("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(h(k,{debounce:0,onResize:R})),h("header",{class:Q.value,style:H.value,onFocusin:P},t)}}}),le=T({name:"QPageContainer",setup(e,{slots:c}){const{proxy:{$q:r}}=O(),a=W(F,z);if(a===z)return console.error("QPageContainer needs to be child of QLayout"),z;I(A,!0);const n=i(()=>{const l={};return a.header.space===!0&&(l.paddingTop=`${a.header.size}px`),a.right.space===!0&&(l[`padding${r.lang.rtl===!0?"Left":"Right"}`]=`${a.right.size}px`),a.footer.space===!0&&(l.paddingBottom=`${a.footer.size}px`),a.left.space===!0&&(l[`padding${r.lang.rtl===!0?"Right":"Left"}`]=`${a.left.size}px`),l});return()=>h("div",{class:"q-page-container",style:n.value},oe(c.default))}}),ie=T({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:c,emit:r}){const{proxy:{$q:a}}=O(),n=p(null),l=p(a.screen.height),s=p(e.container===!0?0:a.screen.width),y=p({position:0,direction:"down",inflectionPoint:0}),b=p(0),d=p(D.value===!0?0:B()),L=i(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),Q=i(()=>e.container===!1?{minHeight:a.screen.height+"px"}:null),H=i(()=>d.value!==0?{[a.lang.rtl===!0?"left":"right"]:`${d.value}px`}:null),f=i(()=>d.value!==0?{[a.lang.rtl===!0?"right":"left"]:0,[a.lang.rtl===!0?"left":"right"]:`-${d.value}px`,width:`calc(100% + ${d.value}px)`}:null);function w(o){if(e.container===!0||document.qScrollPrevented!==!0){const u={position:o.position.top,direction:o.direction,directionChanged:o.directionChanged,inflectionPoint:o.inflectionPoint.top,delta:o.delta.top};y.value=u,e.onScroll!==void 0&&r("scroll",u)}}function R(o){const{height:u,width:g}=o;let m=!1;l.value!==u&&(m=!0,l.value=u,e.onScrollHeight!==void 0&&r("scrollHeight",u),$()),s.value!==g&&(m=!0,s.value=g),m===!0&&e.onResize!==void 0&&r("resize",o)}function P({height:o}){b.value!==o&&(b.value=o,$())}function $(){if(e.container===!0){const o=l.value>b.value?B():0;d.value!==o&&(d.value=o)}}let t=null;const v={instances:{},view:i(()=>e.view),isContainer:i(()=>e.container),rootRef:n,height:l,containerHeight:b,scrollbarWidth:d,totalWidth:i(()=>s.value+d.value),rows:i(()=>{const o=e.view.toLowerCase().split(" ");return{top:o[0].split(""),middle:o[1].split(""),bottom:o[2].split("")}}),header:C({size:0,offset:0,space:!1}),right:C({size:300,offset:0,space:!1}),footer:C({size:0,offset:0,space:!1}),left:C({size:300,offset:0,space:!1}),scroll:y,animate(){t!==null?clearTimeout(t):document.body.classList.add("q-body--layout-animate"),t=setTimeout(()=>{t=null,document.body.classList.remove("q-body--layout-animate")},155)},update(o,u,g){v[o][u]=g}};if(I(F,v),B()>0){let o=function(){m=null,V.classList.remove("hide-scrollbar")},u=function(){if(m===null){if(V.scrollHeight>a.screen.height)return;V.classList.add("hide-scrollbar")}else clearTimeout(m);m=setTimeout(o,300)},g=function(M){m!==null&&M==="remove"&&(clearTimeout(m),o()),window[`${M}EventListener`]("resize",u)},m=null;const V=document.body;x(()=>e.container!==!0?"add":"remove",g),e.container!==!0&&g("add"),G(()=>{g("remove")})}return()=>{const o=ne(c.default,[h(N,{onScroll:w}),h(k,{onResize:R})]),u=h("div",{class:L.value,style:Q.value,ref:e.container===!0?void 0:n,tabindex:-1},o);return e.container===!0?h("div",{class:"q-layout-container overflow-hidden",ref:n},[h(k,{onResize:P}),h("div",{class:"absolute-full",style:H.value},[h("div",{class:"scroll",style:f.value},[u])])]):u}}}),re=J({name:"MainLayout",__name:"MainLayout",setup(e,{expose:c}){c();const r={};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),se={class:"col-auto q-ml-md"};function ue(e,c,r,a,n,l){const s=Y("router-view");return Z(),ee(ie,{view:"hHh lpR fFf"},{default:S(()=>[_(ae,{reveal:"",class:"bg-kiwi-green"},{default:S(()=>[_(j,{class:"q-py-sm"},{default:S(()=>[q("div",{class:"row items-center cursor-pointer",onClick:c[0]||(c[0]=y=>e.$router.push("/"))},[c[1]||(c[1]=q("div",{class:"col"},[q("div",{class:"text-h4 text-weight-bold text-white"},"KiwiCook"),q("div",{class:"text-subtitle2 text-black"},"Reclaim your kitchen")],-1)),q("div",se,[_(U,{size:"48px",class:"bg-white rounded-borders"},{default:S(()=>[_(K,{src:"/icons/icon-no_bg.png",width:"36px",height:"36px"})]),_:1})])])]),_:1})]),_:1}),_(le,null,{default:S(()=>[_(s)]),_:1})]),_:1})}const ge=X(re,[["render",ue],["__scopeId","data-v-2ec2c565"],["__file","MainLayout.vue"]]);export{ge as default};
